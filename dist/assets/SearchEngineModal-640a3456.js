import{p as j,r as d,j as s,M as v}from"./main-537ced6f.js";const y="_list_j4mgx_3",N="_label_j4mgx_14",b="_divider_j4mgx_26",M="_optionsContainer_j4mgx_45",k="_option_j4mgx_45",D="_selected_j4mgx_78",w="_engineName_j4mgx_84",i={list:y,label:N,divider:b,optionsContainer:M,option:k,selected:D,engineName:w},A=({isOpen:o,selectedEngine:l,engines:e,onClose:r,onSelect:x,anchorRect:f})=>{var _;const{t:u}=j(),[c,n]=d.useState(()=>Math.max(0,e.findIndex(t=>t.id===l.id))),h=d.useRef(null);d.useEffect(()=>{o&&n(Math.max(0,e.findIndex(t=>t.id===l.id)))},[o,e,l]);const m=d.useCallback(t=>{x(t),r()},[x,r]),p=d.useCallback(t=>{if(o)if(t.key==="ArrowDown")t.preventDefault(),n(a=>Math.min(e.length-1,a+1));else if(t.key==="ArrowUp")t.preventDefault(),n(a=>Math.max(0,a-1));else if(t.key==="Enter"){t.preventDefault();const a=e[c]??e[0];a&&m(a)}else t.key==="Escape"&&r()},[c,e,o,m,r]);return s.jsx(v,{isOpen:o,onClose:r,title:void 0,hideHeader:!0,anchorRect:f,offset:12,children:s.jsxs("div",{ref:h,className:i.list,role:"listbox","aria-activedescendant":(_=e[c])==null?void 0:_.id,tabIndex:0,onKeyDown:p,children:[s.jsx("div",{className:i.label,children:u.search.searchBy}),s.jsx("div",{className:i.divider}),s.jsx("div",{className:i.optionsContainer,children:e.map((t,a)=>s.jsx("button",{id:t.id,role:"option","aria-selected":l.id===t.id,className:`${i.option} ${l.id===t.id?i.selected:""}`,style:{transitionDelay:`${a*40}ms`},onMouseEnter:()=>n(a),onClick:()=>m(t),children:s.jsx("span",{className:i.engineName,children:t.name})},t.id))})]})})};export{A as SearchEngineModal};
