import{r,j as i,M as p}from"./main-68861f49.js";const u="_list_j4mgx_3",v="_label_j4mgx_14",b="_divider_j4mgx_26",y="_optionsContainer_j4mgx_45",N="_option_j4mgx_45",M="_selected_j4mgx_78",k="_engineName_j4mgx_84",s={list:u,label:v,divider:b,optionsContainer:y,option:N,selected:M,engineName:k},w=({isOpen:o,selectedEngine:l,engines:e,onClose:d,onSelect:x,anchorRect:f})=>{var _;const[c,n]=r.useState(()=>Math.max(0,e.findIndex(t=>t.id===l.id))),h=r.useRef(null);r.useEffect(()=>{o&&n(Math.max(0,e.findIndex(t=>t.id===l.id)))},[o,e,l]);const m=r.useCallback(t=>{x(t),d()},[x,d]),j=r.useCallback(t=>{if(o)if(t.key==="ArrowDown")t.preventDefault(),n(a=>Math.min(e.length-1,a+1));else if(t.key==="ArrowUp")t.preventDefault(),n(a=>Math.max(0,a-1));else if(t.key==="Enter"){t.preventDefault();const a=e[c]??e[0];a&&m(a)}else t.key==="Escape"&&d()},[c,e,o,m,d]);return i.jsx(p,{isOpen:o,onClose:d,title:void 0,hideHeader:!0,anchorRect:f,offset:12,children:i.jsxs("div",{ref:h,className:s.list,role:"listbox","aria-activedescendant":(_=e[c])==null?void 0:_.id,tabIndex:0,onKeyDown:j,children:[i.jsx("div",{className:s.label,children:"Search by"}),i.jsx("div",{className:s.divider}),i.jsx("div",{className:s.optionsContainer,children:e.map((t,a)=>i.jsx("button",{id:t.id,role:"option","aria-selected":l.id===t.id,className:`${s.option} ${l.id===t.id?s.selected:""}`,style:{transitionDelay:`${a*40}ms`},onMouseEnter:()=>n(a),onClick:()=>m(t),children:i.jsx("span",{className:s.engineName,children:t.name})},t.id))})]})})};export{w as SearchEngineModal};
