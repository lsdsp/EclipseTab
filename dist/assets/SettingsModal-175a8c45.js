import{w as Pt,x as Fs,j as a,y as Oe,z as p,A as te,B as Bt,C as A,p as Wt,I as Js,m as $t,J as Ks,K as Xs,L as qs,N as en,f as tn,O as sn,s as mt,P as nn,Q as an,R as on,T as cn,U,V as rn,W as Mn,X as ln,Y as un,Z as gn,_ as Dn,$ as Nn,a0 as wt,a1 as In,a2 as jn,a3 as ht}from"./main-9f79cfbe.js";import{r as I,R as dn}from"./vendor-react-3d7076e0.js";import"./vendor-utils-654bd828.js";const Tn="_backdrop_1jbu3_7",An="_modal_1jbu3_23",yn="_innerContainer_1jbu3_51",En="_iconContainer_1jbu3_79",xn="_defaultTheme_1jbu3_97",pn="_defaultThemeActive_1jbu3_139",Sn="_themeGroupContainer_1jbu3_151",On="_highlightBackground_1jbu3_177",kn="_themeGroupOption_1jbu3_203",zn="_textureOption_1jbu3_237",mn="_wallpaperUploadBtn_1jbu3_239",wn="_textureSectionWrapper_1jbu3_251",hn="_textureSectionWrapperOpen_1jbu3_281",Ln="_textureSection_1jbu3_251",fn="_textureOptionActive_1jbu3_369",Cn="_texturePreviewNone_1jbu3_381",Un="_texturePreviewImage_1jbu3_399",bn="_texturePreviewPattern_1jbu3_413",Qn="_colorOptionsContainer_1jbu3_431",vn="_colorOption_1jbu3_431",Yn="_colorOptionActive_1jbu3_489",_n="_wallpaperSection_1jbu3_503",Rn="_disabled_1jbu3_523",Pn="_hidden_1jbu3_537",Bn="_error_1jbu3_547",Wn="_layoutSection_1jbu3_579",$n="_layoutRow_1jbu3_603",Gn="_layoutHint_1jbu3_610",Zn="_layoutLabel_1jbu3_620",Vn="_layoutToggleGroup_1jbu3_638",Hn="_layoutHighlight_1jbu3_658",Fn="_layoutToggleOption_1jbu3_684",Jn="_sectionDivider_1jbu3_722",Kn="_subSectionTitle_1jbu3_728",Xn="_actionRow_1jbu3_735",qn="_actionButton_1jbu3_740",ea="_actionButtonDanger_1jbu3_741",ta="_actionButtonActive_1jbu3_762",sa="_numberInput_1jbu3_773",na="_textInputSmall_1jbu3_784",aa="_timeInput_1jbu3_796",ia="_ruleList_1jbu3_807",oa="_ruleRow_1jbu3_813",ca="_ruleMain_1jbu3_823",ra="_ruleLabel_1jbu3_831",Ma="_timeRuleEditor_1jbu3_840",la="_weekdayRow_1jbu3_846",ua="_weekdayChip_1jbu3_852",ga="_weekdayChipActive_1jbu3_863",Da="_timeRangeRow_1jbu3_868",Na="_timeRangeSeparator_1jbu3_874",Ia="_ruleActions_1jbu3_879",ja="_ruleActionButton_1jbu3_885",da="_ruleActionButtonDanger_1jbu3_886",Ta="_previewBox_1jbu3_900",Aa="_footer_1jbu3_912",ya="_githubLink_1jbu3_931",o={backdrop:Tn,modal:An,innerContainer:yn,iconContainer:En,defaultTheme:xn,defaultThemeActive:pn,themeGroupContainer:Sn,highlightBackground:On,themeGroupOption:kn,textureOption:zn,wallpaperUploadBtn:mn,textureSectionWrapper:wn,textureSectionWrapperOpen:hn,textureSection:Ln,textureOptionActive:fn,texturePreviewNone:Cn,texturePreviewImage:Un,texturePreviewPattern:bn,colorOptionsContainer:Qn,colorOption:vn,colorOptionActive:Yn,wallpaperSection:_n,disabled:Rn,hidden:Pn,error:Bn,layoutSection:Wn,layoutRow:$n,layoutHint:Gn,layoutLabel:Zn,layoutToggleGroup:Vn,layoutHighlight:Hn,layoutToggleOption:Fn,sectionDivider:Jn,subSectionTitle:Kn,actionRow:Xn,actionButton:qn,actionButtonDanger:ea,actionButtonActive:ta,numberInput:sa,textInputSmall:na,timeInput:aa,ruleList:ia,ruleRow:oa,ruleMain:ca,ruleLabel:ra,timeRuleEditor:Ma,weekdayRow:la,weekdayChip:ua,weekdayChipActive:ga,timeRangeRow:Da,timeRangeSeparator:Na,ruleActions:Ia,ruleActionButton:ja,ruleActionButtonDanger:da,previewBox:Ta,footer:Aa,githubLink:ya},Ea="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xNiAxQzE2LjIwMjEgMS4wMDAwNyAxNi4zOTk0IDEuMDYxMzUgMTYuNTY1OSAxLjE3NTc4QzE2LjczMjUgMS4yOTAyIDE2Ljg2MDQgMS40NTI0IDE2LjkzMyAxLjY0MUwxOC4xMTIgNC43MDVDMTguNDEyIDUuNDg2IDE4LjUwNyA1LjcxMiAxOC42MzYgNS44OTNDMTguNzY1MyA2LjA3NTE0IDE4LjkyNDEgNi4yMzQzNSAxOS4xMDYgNi4zNjRDMTkuMjg4IDYuNDk0IDE5LjUxMyA2LjU4OCAyMC4yOTUgNi44ODhMMjMuMzU5IDguMDY3QzIzLjU0NzQgOC4xMzk2OCAyMy43MDk0IDguMjY3NzIgMjMuODIzNyA4LjQzNDI2QzIzLjkzOCA4LjYwMDggMjMuOTk5MSA4Ljc5ODAzIDIzLjk5OTEgOUMyMy45OTkxIDkuMjAxOTcgMjMuOTM4IDkuMzk5MiAyMy44MjM3IDkuNTY1NzRDMjMuNzA5NCA5LjczMjI4IDIzLjU0NzQgOS44NjAzMiAyMy4zNTkgOS45MzNMMjAuMjk1IDExLjExMkMxOS41MTMgMTEuNDEyIDE5LjI4OCAxMS41MDcgMTkuMTA3IDExLjYzNkMxOC45MjUgMTEuNzY2IDE4Ljc2NiAxMS45MjUgMTguNjM2IDEyLjEwNkMxOC41MDYgMTIuMjg4IDE4LjQxMiAxMi41MTQgMTguMTEyIDEzLjI5NUwxNi45MzMgMTYuMzU5QzE2Ljg2MDMgMTYuNTQ3NCAxNi43MzIzIDE2LjcwOTQgMTYuNTY1NyAxNi44MjM3QzE2LjM5OTIgMTYuOTM4IDE2LjIwMiAxNi45OTkxIDE2IDE2Ljk5OTFDMTUuNzk4IDE2Ljk5OTEgMTUuNjAwOCAxNi45MzggMTUuNDM0MyAxNi44MjM3QzE1LjI2NzcgMTYuNzA5NCAxNS4xMzk3IDE2LjU0NzQgMTUuMDY3IDE2LjM1OUwxMy44ODggMTMuMjk1QzEzLjU4OCAxMi41MTQgMTMuNDkzIDEyLjI4OCAxMy4zNjQgMTIuMTA3QzEzLjIzNDggMTEuOTI0OCAxMy4wNzU5IDExLjc2NTYgMTIuODk0IDExLjYzNkMxMi43MTIgMTEuNTA2IDEyLjQ4NiAxMS40MTIgMTEuNzA1IDExLjExMkw4LjY0MDk5IDkuOTMzQzguNDUyNTYgOS44NjAzMiA4LjI5MDU1IDkuNzMyMjggOC4xNzYyOSA5LjU2NTc0QzguMDYyMDMgOS4zOTkyIDguMDAwODcgOS4yMDE5NyA4LjAwMDg3IDlDOC4wMDA4NyA4Ljc5ODAzIDguMDYyMDMgOC42MDA4IDguMTc2MjkgOC40MzQyNkM4LjI5MDU1IDguMjY3NzIgOC40NTI1NiA4LjEzOTY4IDguNjQwOTkgOC4wNjdMMTEuNzA1IDYuODg4QzEyLjQ4NiA2LjU4OCAxMi43MTIgNi40OTMgMTIuODkzIDYuMzY0QzEzLjA3NTEgNi4yMzQ3MyAxMy4yMzQzIDYuMDc1ODcgMTMuMzY0IDUuODk0QzEzLjQ5NCA1LjcxMiAxMy41ODggNS40ODYgMTMuODg4IDQuNzA1TDE1LjA2NyAxLjY0MUMxNS4xMzk1IDEuNDUyNCAxNS4yNjc1IDEuMjkwMiAxNS40MzQxIDEuMTc1NzhDMTUuNjAwNiAxLjA2MTM1IDE1Ljc5NzkgMS4wMDAwNyAxNiAxWk0xNiA0Ljc4NkwxNS43NTUgNS40MjNMMTUuNzE1IDUuNTI1QzE1LjQ3MiA2LjE2IDE1LjI4OCA2LjYzOSAxNC45OTUgNy4wNTJDMTQuNzM1NiA3LjQxNjUzIDE0LjQxNjggNy43MzQ5NSAxNC4wNTIgNy45OTRDMTMuNjM5IDguMjg4IDEzLjE2IDguNDcyIDEyLjUyNSA4LjcxNkwxMi40MjMgOC43NTVMMTEuNzg2IDlMMTIuNDIzIDkuMjQ1TDEyLjUyNSA5LjI4NUMxMy4xNiA5LjUyOCAxMy42MzkgOS43MTIgMTQuMDUyIDEwLjAwNUMxNC40MTY1IDEwLjI2NDQgMTQuNzM0OSAxMC41ODMyIDE0Ljk5NCAxMC45NDhDMTUuMjg4IDExLjM2MSAxNS40NzIgMTEuODQgMTUuNzE2IDEyLjQ3NUwxNS43NTUgMTIuNTc3TDE2IDEzLjIxNEwxNi4yNDUgMTIuNTc3TDE2LjI4NSAxMi40NzVDMTYuNTI4IDExLjg0IDE2LjcxMiAxMS4zNjEgMTcuMDA1IDEwLjk0OEMxNy4yNjQ0IDEwLjU4MzUgMTcuNTgzMiAxMC4yNjUgMTcuOTQ4IDEwLjAwNkMxOC4zNjEgOS43MTIgMTguODQgOS41MjggMTkuNDc0IDkuMjg0TDE5LjU3NyA5LjI0NUwyMC4yMTQgOUwxOS41NzcgOC43NTVMMTkuNDc0IDguNzE1QzE4Ljg0IDguNDcyIDE4LjM2MSA4LjI4OCAxNy45NDggNy45OTVDMTcuNTgzNSA3LjczNTU2IDE3LjI2NSA3LjQxNjgxIDE3LjAwNiA3LjA1MkMxNi43MTIgNi42MzkgMTYuNTI4IDYuMTYgMTYuMjg0IDUuNTI1TDE2LjI0NSA1LjQyM0wxNiA0Ljc4NlpNNy40OTk5OSAxMkM3LjY4NTY2IDEyLjAwMDEgNy44Njc2MiAxMi4wNTE5IDguMDI1NTIgMTIuMTQ5NkM4LjE4MzQyIDEyLjI0NzIgOC4zMTEgMTIuMzg2OSA4LjM5Mzk5IDEyLjU1M0w5LjE3ODk5IDE0LjEyMkM5LjQ2MDk5IDE0LjY4NyA5LjU0Njk5IDE0Ljg0OSA5LjY1MTk5IDE0Ljk4NUM5Ljc1NjkgMTUuMTIxMSA5Ljg3ODkgMTUuMjQzMSAxMC4wMTUgMTUuMzQ4QzEwLjE1MSAxNS40NTIgMTAuMzEzIDE1LjUzOCAxMC44NzggMTUuODIxTDEyLjQ0OCAxNi42MDZDMTIuNjEzOSAxNi42ODkxIDEyLjc1MzQgMTYuODE2OCAxMi44NTA4IDE2Ljk3NDdDMTIuOTQ4MyAxNy4xMzI2IDEyLjk5OTkgMTcuMzE0NCAxMi45OTk5IDE3LjVDMTIuOTk5OSAxNy42ODU2IDEyLjk0ODMgMTcuODY3NCAxMi44NTA4IDE4LjAyNTNDMTIuNzUzNCAxOC4xODMyIDEyLjYxMzkgMTguMzEwOSAxMi40NDggMTguMzk0TDEwLjg3OCAxOS4xNzlDMTAuMzEzIDE5LjQ2MSAxMC4xNTEgMTkuNTQ4IDEwLjAxNSAxOS42NTJDOS44Nzg5MyAxOS43NTY5IDkuNzU2OTIgMTkuODc4OSA5LjY1MTk5IDIwLjAxNUM5LjU0Njk5IDIwLjE1MSA5LjQ2MTk5IDIwLjMxMyA5LjE3ODk5IDIwLjg3OEw4LjM5Mzk5IDIyLjQ0OEM4LjMxMDg1IDIyLjYxMzkgOC4xODMyIDIyLjc1MzQgOC4wMjUzMiAyMi44NTA4QzcuODY3NDMgMjIuOTQ4MyA3LjY4NTU0IDIyLjk5OTkgNy40OTk5OSAyMi45OTk5QzcuMzE0NDQgMjIuOTk5OSA3LjEzMjU1IDIyLjk0ODMgNi45NzQ2NyAyMi44NTA4QzYuODE2NzggMjIuNzUzNCA2LjY4OTEzIDIyLjYxMzkgNi42MDU5OSAyMi40NDhMNS44MjA5OSAyMC44NzhDNS41Mzg5OSAyMC4zMTMgNS40NTI5OSAyMC4xNTEgNS4zNDc5OSAyMC4wMTVDNS4yNDMwNiAxOS44Nzg5IDUuMTIxMDYgMTkuNzU2OSA0Ljk4NDk5IDE5LjY1MkM0Ljg0ODk5IDE5LjU0NyA0LjY4Njk5IDE5LjQ2MiA0LjEyMTk5IDE5LjE3OUwyLjU1MTk5IDE4LjM5NEMyLjM4NjExIDE4LjMxMDkgMi4yNDY2MyAxOC4xODMyIDIuMTQ5MTYgMTguMDI1M0MyLjA1MTY5IDE3Ljg2NzQgMi4wMDAwNiAxNy42ODU2IDIuMDAwMDYgMTcuNUMyLjAwMDA2IDE3LjMxNDQgMi4wNTE2OSAxNy4xMzI2IDIuMTQ5MTYgMTYuOTc0N0MyLjI0NjYzIDE2LjgxNjggMi4zODYxMSAxNi42ODkxIDIuNTUxOTkgMTYuNjA2TDQuMTIxOTkgMTUuODIxQzQuNjg2OTkgMTUuNTM5IDQuODQ4OTkgMTUuNDUzIDQuOTg0OTkgMTUuMzQ4QzUuMTIxMDkgMTUuMjQzMSA1LjI0MzA5IDE1LjEyMTEgNS4zNDc5OSAxNC45ODVDNS40NTI5OSAxNC44NDkgNS41Mzc5OSAxNC42ODcgNS44MjA5OSAxNC4xMjJMNi42MDU5OSAxMi41NTJDNi42ODkxMiAxMi4zODYxIDYuODE2NzcgMTIuMjQ2NiA2Ljk3NDY2IDEyLjE0OTFDNy4xMzI1NCAxMi4wNTE2IDcuMzE0NDQgMTIgNy40OTk5OSAxMlpNNy40OTk5OSAxNS4yMzZDNy4zMDQ5OSAxNS42MjYgNy4xNDM5OSAxNS45MzEgNi45MzE5OSAxNi4yMDZDNi43MjE5OSAxNi40NzggNi40Nzc5OSAxNi43MjIgNi4yMDU5OSAxNi45MzJDNS45MzA5OSAxNy4xNDQgNS42MjU5OSAxNy4zMDUgNS4yMzU5OSAxNy41QzUuNjI1OTkgMTcuNjk1IDUuOTMwOTkgMTcuODU2IDYuMjA1OTkgMTguMDY4QzYuNDc3OTkgMTguMjc4IDYuNzIxOTkgMTguNTIyIDYuOTMxOTkgMTguNzk0QzcuMTQzOTkgMTkuMDY5IDcuMzA0OTkgMTkuMzc0IDcuNDk5OTkgMTkuNzY0QzcuNjk0OTkgMTkuMzc0IDcuODU1OTkgMTkuMDY5IDguMDY3OTkgMTguNzk0QzguMjc3OTkgMTguNTIyIDguNTIxOTkgMTguMjc4IDguNzkzOTkgMTguMDY4QzkuMDY4OTkgMTcuODU2IDkuMzczOTkgMTcuNjk1IDkuNzYzOTkgMTcuNUM5LjM3Mzk5IDE3LjMwNSA5LjA2ODk5IDE3LjE0NCA4Ljc5Mzk5IDE2LjkzMkM4LjUyMTgzIDE2LjcyMjIgOC4yNzc4MiAxNi40NzgyIDguMDY3OTkgMTYuMjA2QzcuODU1OTkgMTUuOTMxIDcuNjk0OTkgMTUuNjI2IDcuNDk5OTkgMTUuMjM2WiIgZmlsbD0iYmxhY2siLz4NCjwvc3ZnPg0K",xa="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMiAxQzEyLjI2NTIgMSAxMi41MTk2IDEuMTA1MzYgMTIuNzA3MSAxLjI5Mjg5QzEyLjg5NDYgMS40ODA0MyAxMyAxLjczNDc4IDEzIDJWNEMxMyA0LjI2NTIyIDEyLjg5NDYgNC41MTk1NyAxMi43MDcxIDQuNzA3MTFDMTIuNTE5NiA0Ljg5NDY0IDEyLjI2NTIgNSAxMiA1QzExLjczNDggNSAxMS40ODA0IDQuODk0NjQgMTEuMjkyOSA0LjcwNzExQzExLjEwNTQgNC41MTk1NyAxMSA0LjI2NTIyIDExIDRWMkMxMSAxLjczNDc4IDExLjEwNTQgMS40ODA0MyAxMS4yOTI5IDEuMjkyODlDMTEuNDgwNCAxLjEwNTM2IDExLjczNDggMSAxMiAxWk00LjE5MyA0LjE5M0M0LjM4MDUzIDQuMDA1NTMgNC42MzQ4NCAzLjkwMDIxIDQuOSAzLjkwMDIxQzUuMTY1MTYgMy45MDAyMSA1LjQxOTQ3IDQuMDA1NTMgNS42MDcgNC4xOTNMNy4wMjEgNS42MDdDNy4xMTY1MSA1LjY5OTI1IDcuMTkyNjkgNS44MDk1OSA3LjI0NTEgNS45MzE2QzcuMjk3NTEgNi4wNTM2IDcuMzI1MSA2LjE4NDgyIDcuMzI2MjUgNi4zMTc2QzcuMzI3NDEgNi40NTAzOCA3LjMwMjEgNi41ODIwNiA3LjI1MTgyIDYuNzA0OTVDNy4yMDE1NCA2LjgyNzg1IDcuMTI3MjkgNi45Mzk1IDcuMDMzNCA3LjAzMzRDNi45Mzk1IDcuMTI3MjkgNi44Mjc4NSA3LjIwMTU0IDYuNzA0OTUgNy4yNTE4MkM2LjU4MjA2IDcuMzAyMSA2LjQ1MDM4IDcuMzI3NDEgNi4zMTc2IDcuMzI2MjVDNi4xODQ4MiA3LjMyNTEgNi4wNTM2IDcuMjk3NTEgNS45MzE2IDcuMjQ1MUM1LjgwOTU5IDcuMTkyNjkgNS42OTkyNSA3LjExNjUxIDUuNjA3IDcuMDIxTDQuMTkzIDUuNjA3QzQuMDA1NTMgNS40MTk0NyAzLjkwMDIxIDUuMTY1MTYgMy45MDAyMSA0LjlDMy45MDAyMSA0LjYzNDg0IDQuMDA1NTMgNC4zODA1MyA0LjE5MyA0LjE5M1pNMTkuODA3IDQuMTkzQzE5Ljk5NDUgNC4zODA1MyAyMC4wOTk4IDQuNjM0ODQgMjAuMDk5OCA0LjlDMjAuMDk5OCA1LjE2NTE2IDE5Ljk5NDUgNS40MTk0NyAxOS44MDcgNS42MDdMMTguMzkzIDcuMDIxQzE4LjMwMDggNy4xMTY1MSAxOC4xOTA0IDcuMTkyNjkgMTguMDY4NCA3LjI0NTFDMTcuOTQ2NCA3LjI5NzUxIDE3LjgxNTIgNy4zMjUxIDE3LjY4MjQgNy4zMjYyNUMxNy41NDk2IDcuMzI3NDEgMTcuNDE3OSA3LjMwMjEgMTcuMjk1IDcuMjUxODJDMTcuMTcyMSA3LjIwMTU0IDE3LjA2MDUgNy4xMjcyOSAxNi45NjY2IDcuMDMzNEMxNi44NzI3IDYuOTM5NSAxNi43OTg1IDYuODI3ODUgMTYuNzQ4MiA2LjcwNDk1QzE2LjY5NzkgNi41ODIwNiAxNi42NzI2IDYuNDUwMzggMTYuNjczOCA2LjMxNzZDMTYuNjc0OSA2LjE4NDgyIDE2LjcwMjUgNi4wNTM2IDE2Ljc1NDkgNS45MzE2QzE2LjgwNzMgNS44MDk1OSAxNi44ODM1IDUuNjk5MjUgMTYuOTc5IDUuNjA3TDE4LjM5MyA0LjE5M0MxOC41ODA1IDQuMDA1NTMgMTguODM0OCAzLjkwMDIxIDE5LjEgMy45MDAyMUMxOS4zNjUyIDMuOTAwMjEgMTkuNjE5NSA0LjAwNTUzIDE5LjgwNyA0LjE5M1pNNiAxMkM2IDEwLjQwODcgNi42MzIxNCA4Ljg4MjU4IDcuNzU3MzYgNy43NTczNkM4Ljg4MjU4IDYuNjMyMTQgMTAuNDA4NyA2IDEyIDZDMTMuNTkxMyA2IDE1LjExNzQgNi42MzIxNCAxNi4yNDI2IDcuNzU3MzZDMTcuMzY3OSA4Ljg4MjU4IDE4IDEwLjQwODcgMTggMTJDMTggMTMuNTkxMyAxNy4zNjc5IDE1LjExNzQgMTYuMjQyNiAxNi4yNDI2QzE1LjExNzQgMTcuMzY3OSAxMy41OTEzIDE4IDEyIDE4QzEwLjQwODcgMTggOC44ODI1OCAxNy4zNjc5IDcuNzU3MzYgMTYuMjQyNkM2LjYzMjE0IDE1LjExNzQgNiAxMy41OTEzIDYgMTJaTTEyIDhDMTEuNDc0NyA4IDEwLjk1NDYgOC4xMDM0NiAxMC40NjkzIDguMzA0NDhDOS45ODM5NiA4LjUwNTUgOS41NDMwMSA4LjgwMDE0IDkuMTcxNTcgOS4xNzE1N0M4LjgwMDE0IDkuNTQzMDEgOC41MDU1IDkuOTgzOTYgOC4zMDQ0OCAxMC40NjkzQzguMTAzNDYgMTAuOTU0NiA4IDExLjQ3NDcgOCAxMkM4IDEyLjUyNTMgOC4xMDM0NiAxMy4wNDU0IDguMzA0NDggMTMuNTMwN0M4LjUwNTUgMTQuMDE2IDguODAwMTQgMTQuNDU3IDkuMTcxNTcgMTQuODI4NEM5LjU0MzAxIDE1LjE5OTkgOS45ODM5NiAxNS40OTQ1IDEwLjQ2OTMgMTUuNjk1NUMxMC45NTQ2IDE1Ljg5NjUgMTEuNDc0NyAxNiAxMiAxNkMxMy4wNjA5IDE2IDE0LjA3ODMgMTUuNTc4NiAxNC44Mjg0IDE0LjgyODRDMTUuNTc4NiAxNC4wNzgzIDE2IDEzLjA2MDkgMTYgMTJDMTYgMTAuOTM5MSAxNS41Nzg2IDkuOTIxNzIgMTQuODI4NCA5LjE3MTU3QzE0LjA3ODMgOC40MjE0MyAxMy4wNjA5IDggMTIgOFpNMSAxMkMxIDExLjczNDggMS4xMDUzNiAxMS40ODA0IDEuMjkyODkgMTEuMjkyOUMxLjQ4MDQzIDExLjEwNTQgMS43MzQ3OCAxMSAyIDExSDRDNC4yNjUyMiAxMSA0LjUxOTU3IDExLjEwNTQgNC43MDcxMSAxMS4yOTI5QzQuODk0NjQgMTEuNDgwNCA1IDExLjczNDggNSAxMkM1IDEyLjI2NTIgNC44OTQ2NCAxMi41MTk2IDQuNzA3MTEgMTIuNzA3MUM0LjUxOTU3IDEyLjg5NDYgNC4yNjUyMiAxMyA0IDEzSDJDMS43MzQ3OCAxMyAxLjQ4MDQzIDEyLjg5NDYgMS4yOTI4OSAxMi43MDcxQzEuMTA1MzYgMTIuNTE5NiAxIDEyLjI2NTIgMSAxMlpNMTkgMTJDMTkgMTEuNzM0OCAxOS4xMDU0IDExLjQ4MDQgMTkuMjkyOSAxMS4yOTI5QzE5LjQ4MDQgMTEuMTA1NCAxOS43MzQ4IDExIDIwIDExSDIyQzIyLjI2NTIgMTEgMjIuNTE5NiAxMS4xMDU0IDIyLjcwNzEgMTEuMjkyOUMyMi44OTQ2IDExLjQ4MDQgMjMgMTEuNzM0OCAyMyAxMkMyMyAxMi4yNjUyIDIyLjg5NDYgMTIuNTE5NiAyMi43MDcxIDEyLjcwNzFDMjIuNTE5NiAxMi44OTQ2IDIyLjI2NTIgMTMgMjIgMTNIMjBDMTkuNzM0OCAxMyAxOS40ODA0IDEyLjg5NDYgMTkuMjkyOSAxMi43MDcxQzE5LjEwNTQgMTIuNTE5NiAxOSAxMi4yNjUyIDE5IDEyWk03LjAyMSAxNi45ODNDNy4yMDg0NyAxNy4xNzA1IDcuMzEzNzkgMTcuNDI0OCA3LjMxMzc5IDE3LjY5QzcuMzEzNzkgMTcuOTU1MiA3LjIwODQ3IDE4LjIwOTUgNy4wMjEgMTguMzk3TDUuNjA3IDE5LjgxMUM1LjQxODQgMTkuOTkzMiA1LjE2NTggMjAuMDk0IDQuOTAzNiAyMC4wOTE3QzQuNjQxNCAyMC4wODk0IDQuMzkwNTkgMTkuOTg0MiA0LjIwNTE4IDE5Ljc5ODhDNC4wMTk3NyAxOS42MTM0IDMuOTE0NiAxOS4zNjI2IDMuOTEyMzMgMTkuMTAwNEMzLjkxMDA1IDE4LjgzODIgNC4wMTA4NCAxOC41ODU2IDQuMTkzIDE4LjM5N0w1LjYwNyAxNi45ODNDNS43OTQ1MyAxNi43OTU1IDYuMDQ4ODQgMTYuNjkwMiA2LjMxNCAxNi42OTAyQzYuNTc5MTYgMTYuNjkwMiA2LjgzMzQ3IDE2Ljc5NTUgNy4wMjEgMTYuOTgzWk0xNi45NzkgMTYuOTgzQzE3LjE2NjUgMTYuNzk1NSAxNy40MjA4IDE2LjY5MDIgMTcuNjg2IDE2LjY5MDJDMTcuOTUxMiAxNi42OTAyIDE4LjIwNTUgMTYuNzk1NSAxOC4zOTMgMTYuOTgzTDE5LjgwNyAxOC4zOTdDMTkuOTg5MiAxOC41ODU2IDIwLjA5IDE4LjgzODIgMjAuMDg3NyAxOS4xMDA0QzIwLjA4NTQgMTkuMzYyNiAxOS45ODAyIDE5LjYxMzQgMTkuNzk0OCAxOS43OTg4QzE5LjYwOTQgMTkuOTg0MiAxOS4zNTg2IDIwLjA4OTQgMTkuMDk2NCAyMC4wOTE3QzE4LjgzNDIgMjAuMDk0IDE4LjU4MTYgMTkuOTkzMiAxOC4zOTMgMTkuODExTDE2Ljk3OSAxOC4zOTdDMTYuNzkxNSAxOC4yMDk1IDE2LjY4NjIgMTcuOTU1MiAxNi42ODYyIDE3LjY5QzE2LjY4NjIgMTcuNDI0OCAxNi43OTE1IDE3LjE3MDUgMTYuOTc5IDE2Ljk4M1pNMTIgMTlDMTIuMjY1MiAxOSAxMi41MTk2IDE5LjEwNTQgMTIuNzA3MSAxOS4yOTI5QzEyLjg5NDYgMTkuNDgwNCAxMyAxOS43MzQ4IDEzIDIwVjIyQzEzIDIyLjI2NTIgMTIuODk0NiAyMi41MTk2IDEyLjcwNzEgMjIuNzA3MUMxMi41MTk2IDIyLjg5NDYgMTIuMjY1MiAyMyAxMiAyM0MxMS43MzQ4IDIzIDExLjQ4MDQgMjIuODk0NiAxMS4yOTI5IDIyLjcwNzFDMTEuMTA1NCAyMi41MTk2IDExIDIyLjI2NTIgMTEgMjJWMjBDMTEgMTkuNzM0OCAxMS4xMDU0IDE5LjQ4MDQgMTEuMjkyOSAxOS4yOTI5QzExLjQ4MDQgMTkuMTA1NCAxMS43MzQ4IDE5IDEyIDE5WiIgZmlsbD0iYmxhY2siLz4NCjwvc3ZnPg0K",pa="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik04Ljg2MyAxLjI5MzAxQzkuMDA2ODggMS40MzY3OSA5LjEwMzQ4IDEuNjIxMDMgOS4xMzk5MyAxLjgyMTE1QzkuMTc2MzggMi4wMjEyNiA5LjE1MDk0IDIuMjI3NzMgOS4wNjcgMi40MTMwMUM4LjUxNDE0IDMuNjM2NjQgOC4yMjkxMSA0Ljk2NDI4IDguMjMxIDYuMzA3MDFDOC4yMzEgNy41NDk2NiA4LjQ3NTc4IDguNzgwMTQgOC45NTEzNSA5LjkyODE5QzkuNDI2OTIgMTEuMDc2MiAxMC4xMjQgMTIuMTE5NCAxMS4wMDI3IDEyLjk5OEMxMS44ODE0IDEzLjg3NjYgMTIuOTI0NiAxNC41NzM2IDE0LjA3MjcgMTUuMDQ5QzE1LjIyMDggMTUuNTI0NSAxNi40NTEzIDE1Ljc2OTEgMTcuNjk0IDE1Ljc2OUMxOS4wODQgMTUuNzY5IDIwLjQwMSAxNS40NjkgMjEuNTg4IDE0LjkzM0MyMS43NzMxIDE0Ljg0OTQgMjEuOTc5NCAxNC44MjQxIDIyLjE3OTIgMTQuODYwNkMyMi4zNzkxIDE0Ljg5NzEgMjIuNTYzMSAxNC45OTM2IDIyLjcwNjggMTUuMTM3MkMyMi44NTA0IDE1LjI4MDkgMjIuOTQ2OSAxNS40NjQ5IDIyLjk4MzQgMTUuNjY0OEMyMy4wMTk5IDE1Ljg2NDYgMjIuOTk0NiAxNi4wNzA5IDIyLjkxMSAxNi4yNTZDMjIuMDAyOCAxOC4yNjYzIDIwLjUzMzkgMTkuOTcxOCAxOC42ODA1IDIxLjE2OEMxNi44MjcxIDIyLjM2NDMgMTQuNjY3OSAyMy4wMDAzIDEyLjQ2MiAyM0M2LjEzMiAyMyAxIDE3Ljg2OCAxIDExLjUzOEMxIDYuODg4MDEgMy43NjkgMi44ODYwMSA3Ljc0NCAxLjA4ODAxQzcuOTI5MjUgMS4wMDQ0MiA4LjEzNTU4IDAuOTc5MjU5IDguMzM1NDkgMS4wMTU4OEM4LjUzNTQgMS4wNTI1MSA4LjcxOTQxIDEuMTQ5MTcgOC44NjMgMS4yOTMwMVpNNi40MTMgNC4yNjAwMUM1LjQwMzc1IDUuMTAxOTkgNC41ODA5OSA2LjE0NSAzLjk5NzE2IDcuMzIyNTZDMy40MTMzMyA4LjUwMDEyIDMuMDgxMjMgOS43ODY0IDMuMDIyMDMgMTEuMDk5NEMyLjk2MjgzIDEyLjQxMjQgMy4xNzc4NCAxMy43MjM0IDMuNjUzMzQgMTQuOTQ4N0M0LjEyODgzIDE2LjE3NCA0Ljg1NDQgMTcuMjg2OCA1Ljc4Mzc4IDE4LjIxNjJDNi43MTMxNyAxOS4xNDU2IDcuODI1OTkgMTkuODcxMiA5LjA1MTMxIDIwLjM0NjdDMTAuMjc2NiAyMC44MjIyIDExLjU4NzYgMjEuMDM3MiAxMi45MDA2IDIwLjk3OEMxNC4yMTM2IDIwLjkxODggMTUuNDk5OSAyMC41ODY3IDE2LjY3NzQgMjAuMDAyOEMxNy44NTUgMTkuNDE5IDE4Ljg5OCAxOC41OTYzIDE5Ljc0IDE3LjU4N0MxOS4wNzYgMTcuNzA3IDE4LjM5MiAxNy43NjkgMTcuNjk0IDE3Ljc2OUMxMS4zNjQgMTcuNzY5IDYuMjMyIDEyLjYzNyA2LjIzMiA2LjMwNzAxQzYuMjMyIDUuNjA5MDEgNi4yOTUgNC45MjUwMSA2LjQxNCA0LjI2MTAxTDYuNDEzIDQuMjYwMDFaIiBmaWxsPSJibGFjayIvPg0KPC9zdmc+DQo=",Sa="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik05IDdDOSA4LjEwNDU3IDguMTA0NTcgOSA3IDlDNS44OTU0MyA5IDUgOC4xMDQ1NyA1IDdDNSA1Ljg5NTQzIDUuODk1NDMgNSA3IDVDOC4xMDQ1NyA1IDkgNS44OTU0MyA5IDdaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTkgMTdDOSAxOC4xMDQ2IDguMTA0NTcgMTkgNyAxOUM1Ljg5NTQzIDE5IDUgMTguMTA0NiA1IDE3QzUgMTUuODk1NCA1Ljg5NTQzIDE1IDcgMTVDOC4xMDQ1NyAxNSA5IDE1Ljg5NTQgOSAxN1oiIGZpbGw9ImJsYWNrIi8+DQo8cGF0aCBkPSJNMTkgN0MxOSA4LjEwNDU3IDE4LjEwNDYgOSAxNyA5QzE1Ljg5NTQgOSAxNSA4LjEwNDU3IDE1IDdDMTUgNS44OTU0MyAxNS44OTU0IDUgMTcgNUMxOC4xMDQ2IDUgMTkgNS44OTU0MyAxOSA3WiIgZmlsbD0iYmxhY2siLz4NCjxwYXRoIGQ9Ik0xOSAxN0MxOSAxOC4xMDQ2IDE4LjEwNDYgMTkgMTcgMTlDMTUuODk1NCAxOSAxNSAxOC4xMDQ2IDE1IDE3QzE1IDE1Ljg5NTQgMTUuODk1NCAxNSAxNyAxNUMxOC4xMDQ2IDE1IDE5IDE1Ljg5NTQgMTkgMTdaIiBmaWxsPSJibGFjayIvPg0KPC9zdmc+DQo=",Oa="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik01LjI5MzAzIDUuMjkzQzUuNDgwNTYgNS4xMDU1MyA1LjczNDg3IDUuMDAwMjEgNi4wMDAwMyA1LjAwMDIxQzYuMjY1MTkgNS4wMDAyMSA2LjUxOTUgNS4xMDU1MyA2LjcwNzAzIDUuMjkzTDEyIDEwLjU4NkwxNy4yOTMgNS4yOTNDMTcuMzg1MyA1LjE5NzQ5IDE3LjQ5NTYgNS4xMjEzMSAxNy42MTc2IDUuMDY4OUMxNy43Mzk2IDUuMDE2NDkgMTcuODcwOCA0Ljk4ODkgMTguMDAzNiA0Ljk4Nzc1QzE4LjEzNjQgNC45ODY1OSAxOC4yNjgxIDUuMDExODkgMTguMzkxIDUuMDYyMThDMTguNTEzOSA1LjExMjQ2IDE4LjYyNTUgNS4xODY3MSAxOC43MTk0IDUuMjgwNkMxOC44MTMzIDUuMzc0NSAxOC44ODc2IDUuNDg2MTUgMTguOTM3OSA1LjYwOTA0QzE4Ljk4ODEgNS43MzE5NCAxOS4wMTM0IDUuODYzNjIgMTkuMDEyMyA1Ljk5NjRDMTkuMDExMSA2LjEyOTE4IDE4Ljk4MzUgNi4yNjA0IDE4LjkzMTEgNi4zODI0QzE4Ljg3ODcgNi41MDQ0MSAxOC44MDI1IDYuNjE0NzUgMTguNzA3IDYuNzA3TDEzLjQxNCAxMkwxOC43MDcgMTcuMjkzQzE4Ljg4OTIgMTcuNDgxNiAxOC45OSAxNy43MzQyIDE4Ljk4NzcgMTcuOTk2NEMxOC45ODU0IDE4LjI1ODYgMTguODgwMyAxOC41MDk0IDE4LjY5NDggMTguNjk0OEMxOC41MDk0IDE4Ljg4MDIgMTguMjU4NiAxOC45ODU0IDE3Ljk5NjQgMTguOTg3N0MxNy43MzQyIDE4Ljk4OTkgMTcuNDgxNiAxOC44ODkyIDE3LjI5MyAxOC43MDdMMTIgMTMuNDE0TDYuNzA3MDMgMTguNzA3QzYuNTE4NDMgMTguODg5MiA2LjI2NTgzIDE4Ljk4OTkgNi4wMDM2MyAxOC45ODc3QzUuNzQxNDMgMTguOTg1NCA1LjQ5MDYyIDE4Ljg4MDIgNS4zMDUyMSAxOC42OTQ4QzUuMTE5OCAxOC41MDk0IDUuMDE0NjQgMTguMjU4NiA1LjAxMjM2IDE3Ljk5NjRDNS4wMTAwOCAxNy43MzQyIDUuMTEwODcgMTcuNDgxNiA1LjI5MzAzIDE3LjI5M0wxMC41ODYgMTJMNS4yOTMwMyA2LjcwN0M1LjEwNTU2IDYuNTE5NDcgNS4wMDAyNCA2LjI2NTE2IDUuMDAwMjQgNkM1LjAwMDI0IDUuNzM0ODMgNS4xMDU1NiA1LjQ4MDUzIDUuMjkzMDMgNS4yOTNaIiBmaWxsPSJibGFjayIvPg0KPC9zdmc+DQo=",ka="_gridContainer_1wzd1_1",za="_uploadBtn_1wzd1_23",ma="_uploading_1wzd1_57",wa="_pulse_1wzd1_1",ha="_thumbnail_1wzd1_69",La="_active_1wzd1_101",fa="_image_1wzd1_111",Ca="_deleteBtn_1wzd1_123",H={gridContainer:ka,uploadBtn:za,uploading:ma,pulse:wa,thumbnail:ha,active:La,image:fa,deleteBtn:Ca},Ua="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS45ODczIDdDMTIuMjUyNCA3IDEyLjUwNjggNy4xMDU1NiAxMi42OTQzIDcuMjkyOTdMMTYuNjk0MyAxMS4yOTNDMTYuODc2NSAxMS40ODE1IDE2Ljk3NzggMTEuNzMzOSAxNi45NzU2IDExLjk5NjFDMTYuOTczMyAxMi4yNTgyIDE2Ljg2NzkgMTIuNTA4OSAxNi42ODI2IDEyLjY5NDNDMTYuNDk3MyAxMi44Nzk3IDE2LjI0NjUgMTIuOTg1IDE1Ljk4NDQgMTIuOTg3M0MxNS43MjIyIDEyLjk4OTYgMTUuNDY4OSAxMi44ODkyIDE1LjI4MDMgMTIuNzA3TDEyLjk4NzMgMTAuNDE0MVYxNkMxMi45ODczIDE2LjI2NTEgMTIuODgxOCAxNi41MTk1IDEyLjY5NDMgMTYuNzA3QzEyLjUwNjggMTYuODk0NCAxMi4yNTI0IDE3IDExLjk4NzMgMTdDMTEuNzIyMiAxNi45OTk5IDExLjQ2NzcgMTYuODk0NSAxMS4yODAzIDE2LjcwN0MxMS4wOTI5IDE2LjUxOTYgMTAuOTg3NCAxNi4yNjUxIDEwLjk4NzMgMTZWMTAuNDE0MUw4LjY5NDM0IDEyLjcwN0M4LjUwNTc3IDEyLjg4OSA4LjI1MzI2IDEyLjk4OTYgNy45OTEyMSAxMi45ODczQzcuNzI5MDUgMTIuOTg1IDcuNDc4MzUgMTIuODc5NyA3LjI5Mjk3IDEyLjY5NDNDNy4xMDc2MiAxMi41MDg5IDcuMDAyMjggMTIuMjU4MiA3IDExLjk5NjFDNi45OTc3NSAxMS43MzQxIDcuMDk4MzMgMTEuNDgxNSA3LjI4MDI4IDExLjI5M0wxMS4yODAzIDcuMjkyOTdDMTEuNDY3NyA3LjEwNTU5IDExLjcyMjMgNy4wMDAxMSAxMS45ODczIDdaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNy4yMDAyIDJDMTguMDIzNyAyIDE4LjcwMTYgMS45OTg5OCAxOS4yNTIgMi4wNDM5NEMxOS44MTQgMi4wODk4NyAyMC4zMzExIDIuMTg4MjcgMjAuODE2NCAyLjQzNTU0TDIxLjA5MTggMi41ODk4NEMyMS43MTgzIDIuOTc0MTMgMjIuMjI4OSAzLjUyNTEyIDIyLjU2NDUgNC4xODM1OUMyMi44MTE3IDQuNjY4OSAyMi45MTAxIDUuMTg1OTkgMjIuOTU2MSA1Ljc0ODA0QzIzLjAwMSA2LjI5ODQyIDIzIDYuOTc2MzEgMjMgNy43OTk4VjE2LjIwMDJDMjMgMTcuMDIzNyAyMy4wMDEgMTcuNzAxNiAyMi45NTYxIDE4LjI1MkMyMi45MTU5IDE4Ljc0MzggMjIuODM1NiAxOS4yMDExIDIyLjY1MDQgMTkuNjMyOEwyMi41NjQ1IDE5LjgxNjRDMjIuMjI4OSAyMC40NzQ5IDIxLjcxODMgMjEuMDI1OSAyMS4wOTE4IDIxLjQxMDJMMjAuODE2NCAyMS41NjQ1QzIwLjMzMTEgMjEuODExNyAxOS44MTQgMjEuOTEwMSAxOS4yNTIgMjEuOTU2MUMxOC43MDE2IDIyLjAwMSAxOC4wMjM3IDIyIDE3LjIwMDIgMjJINi43OTk4MUM1Ljk3NjMyIDIyIDUuMjk4NDMgMjIuMDAxIDQuNzQ4MDUgMjEuOTU2MUM0LjE4NiAyMS45MTAxIDMuNjY4OSAyMS44MTE3IDMuMTgzNiAyMS41NjQ1QzIuNTI1MTMgMjEuMjI4OSAxLjk3NDEzIDIwLjcxODMgMS41ODk4NSAyMC4wOTE4TDEuNDM1NTUgMTkuODE2NEMxLjE4ODI4IDE5LjMzMTEgMS4wODk4OCAxOC44MTQgMS4wNDM5NSAxOC4yNTJDMC45OTg5OCAxNy43MDE2IDEgMTcuMDIzNyAxIDE2LjIwMDJWNy43OTk4QzEgNi45NzYzMSAwLjk5ODk4IDYuMjk4NDIgMS4wNDM5NSA1Ljc0ODA0QzEuMDg5ODggNS4xODU5OSAxLjE4ODI3IDQuNjY4OSAxLjQzNTU1IDQuMTgzNTlDMS44MTkwMiAzLjQzMTA5IDIuNDMxMDkgMi44MTkwMSAzLjE4MzYgMi40MzU1NEMzLjY2ODkgMi4xODgyNyA0LjE4NiAyLjA4OTg3IDQuNzQ4MDUgMi4wNDM5NEM1LjI5ODQzIDEuOTk4OTggNS45NzYzMiAyIDYuNzk5ODEgMkgxNy4yMDAyWk02Ljc5OTgxIDRDNS45NDM0MiA0IDUuMzYxMTcgNC4wMDAzNSA0LjkxMTEzIDQuMDM3MTFDNC40NzI3MiA0LjA3MjkzIDQuMjQ4MiA0LjEzODA4IDQuMDkxOCA0LjIxNzc3QzMuNzE1NTUgNC40MDk1MSAzLjQwOTUxIDQuNzE1NTQgMy4yMTc3OCA1LjA5MTc5QzMuMTM4MDkgNS4yNDgxOSAzLjA3MjkzIDUuNDcyNzIgMy4wMzcxMSA1LjkxMTEzQzMuMDAwMzUgNi4zNjExNyAzIDYuOTQzNDEgMyA3Ljc5OThWMTYuMjAwMkMzIDE3LjA1NjYgMy4wMDAzNSAxNy42Mzg4IDMuMDM3MTEgMTguMDg4OUMzLjA3MjkzIDE4LjUyNzMgMy4xMzgwOSAxOC43NTE4IDMuMjE3NzggMTguOTA4MkwzLjI5NDkyIDE5LjA0NTlDMy40ODcwNyAxOS4zNTkxIDMuNzYyNTcgMTkuNjE0NCA0LjA5MTggMTkuNzgyMkM0LjI0ODIgMTkuODYxOSA0LjQ3MjcyIDE5LjkyNzEgNC45MTExMyAxOS45NjI5QzUuMzYxMTcgMTkuOTk5NiA1Ljk0MzQyIDIwIDYuNzk5ODEgMjBIMTcuMjAwMkMxOC4wNTY2IDIwIDE4LjYzODggMTkuOTk5NiAxOS4wODg5IDE5Ljk2MjlDMTkuNTI3MyAxOS45MjcxIDE5Ljc1MTggMTkuODYxOSAxOS45MDgyIDE5Ljc4MjJMMjAuMDQ1OSAxOS43MDUxQzIwLjM1OTIgMTkuNTEyOSAyMC42MTQ1IDE5LjIzNzQgMjAuNzgyMiAxOC45MDgyTDIwLjgzODkgMTguNzc1NEMyMC44OTI0IDE4LjYyNTggMjAuOTM2IDE4LjQxNzUgMjAuOTYyOSAxOC4wODg5QzIwLjk5OTcgMTcuNjM4OCAyMSAxNy4wNTY2IDIxIDE2LjIwMDJWNy43OTk4QzIxIDYuOTQzNDEgMjAuOTk5NyA2LjM2MTE3IDIwLjk2MjkgNS45MTExM0MyMC45MjcxIDUuNDcyNzIgMjAuODYxOSA1LjI0ODE5IDIwLjc4MjIgNS4wOTE3OUMyMC42MTQ1IDQuNzYyNTYgMjAuMzU5MiA0LjQ4NzA2IDIwLjA0NTkgNC4yOTQ5MkwxOS45MDgyIDQuMjE3NzdDMTkuNzUxOCA0LjEzODA4IDE5LjUyNzMgNC4wNzI5MyAxOS4wODg5IDQuMDM3MTFDMTguNjM4OCA0LjAwMDM1IDE4LjA1NjYgNCAxNy4yMDAyIDRINi43OTk4MVoiIGZpbGw9ImJsYWNrIi8+DQo8L3N2Zz4NCg==",ba="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik01LjI5MzAzIDUuMjkyOTlDNS40ODA1NiA1LjEwNTUyIDUuNzM0ODcgNS4wMDAyIDYuMDAwMDMgNS4wMDAyQzYuMjY1MTkgNS4wMDAyIDYuNTE5NSA1LjEwNTUyIDYuNzA3MDMgNS4yOTI5OUwxMiAxMC41ODZMMTcuMjkzIDUuMjkyOTlDMTcuMzg1MyA1LjE5NzQ4IDE3LjQ5NTYgNS4xMjEzIDE3LjYxNzYgNS4wNjg4OUMxNy43Mzk2IDUuMDE2NDggMTcuODcwOCA0Ljk4ODg5IDE4LjAwMzYgNC45ODc3NEMxOC4xMzY0IDQuOTg2NTkgMTguMjY4MSA1LjAxMTg5IDE4LjM5MSA1LjA2MjE3QzE4LjUxMzkgNS4xMTI0NSAxOC42MjU1IDUuMTg2NyAxOC43MTk0IDUuMjgwNTlDMTguODEzMyA1LjM3NDQ5IDE4Ljg4NzYgNS40ODYxNCAxOC45Mzc5IDUuNjA5MDRDMTguOTg4MSA1LjczMTkzIDE5LjAxMzQgNS44NjM2MSAxOS4wMTIzIDUuOTk2MzlDMTkuMDExMSA2LjEyOTE3IDE4Ljk4MzUgNi4yNjAzOSAxOC45MzExIDYuMzgyMzlDMTguODc4NyA2LjUwNDQgMTguODAyNSA2LjYxNDc0IDE4LjcwNyA2LjcwNjk5TDEzLjQxNCAxMkwxOC43MDcgMTcuMjkzQzE4Ljg4OTIgMTcuNDgxNiAxOC45OSAxNy43MzQyIDE4Ljk4NzcgMTcuOTk2NEMxOC45ODU0IDE4LjI1ODYgMTguODgwMyAxOC41MDk0IDE4LjY5NDggMTguNjk0OEMxOC41MDk0IDE4Ljg4MDIgMTguMjU4NiAxOC45ODU0IDE3Ljk5NjQgMTguOTg3N0MxNy43MzQyIDE4Ljk4OTkgMTcuNDgxNiAxOC44ODkxIDE3LjI5MyAxOC43MDdMMTIgMTMuNDE0TDYuNzA3MDMgMTguNzA3QzYuNTE4NDMgMTguODg5MSA2LjI2NTgzIDE4Ljk4OTkgNi4wMDM2MyAxOC45ODc3QzUuNzQxNDMgMTguOTg1NCA1LjQ5MDYyIDE4Ljg4MDIgNS4zMDUyMSAxOC42OTQ4QzUuMTE5OCAxOC41MDk0IDUuMDE0NjQgMTguMjU4NiA1LjAxMjM2IDE3Ljk5NjRDNS4wMTAwOCAxNy43MzQyIDUuMTEwODcgMTcuNDgxNiA1LjI5MzAzIDE3LjI5M0wxMC41ODYgMTJMNS4yOTMwMyA2LjcwNjk5QzUuMTA1NTYgNi41MTk0NiA1LjAwMDI0IDYuMjY1MTUgNS4wMDAyNCA1Ljk5OTk5QzUuMDAwMjQgNS43MzQ4MyA1LjEwNTU2IDUuNDgwNTIgNS4yOTMwMyA1LjI5Mjk5WiIgZmlsbD0iYmxhY2siLz4NCjwvc3ZnPg0K",Qa=()=>{const{wallpaperId:e,setWallpaperId:s,uploadWallpaper:n,setWallpaper:i}=Pt(),{getRecentWallpapers:r,createWallpaperUrl:c,deleteWallpaper:d}=Fs(),[j,y]=I.useState([]),[O,E]=I.useState({}),[S,N]=I.useState(!1),g=dn.useRef(null),z=I.useCallback(async()=>{const M=await r();y(M);const T={};M.forEach(u=>{T[u.id]=c(u.thumbnail||u.data)}),E(T)},[c,r]);I.useEffect(()=>{z()},[z]);const h=()=>{g.current?.click()},f=async M=>{const T=M.target.files?.[0];if(T){N(!0);try{await n(T),await z()}catch(u){console.error("Upload failed:",u)}finally{N(!1),g.current&&(g.current.value="")}}},Q=async M=>{M!==e&&await s(M)},v=async(M,T)=>{M.stopPropagation();try{await d(T),T===e&&i(null),await z()}catch(u){console.error("Delete failed:",u)}};return a.jsxs("div",{className:H.gridContainer,children:[a.jsxs("div",{className:`${H.uploadBtn} ${S?H.uploading:""}`,onClick:h,title:"Upload Wallpaper",children:[a.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:f,style:{display:"none"}}),a.jsx("img",{src:Ua,alt:"Upload",width:24,height:24})]}),j.map(M=>a.jsxs("div",{className:`${H.thumbnail} ${M.id===e?H.active:""}`,onClick:()=>Q(M.id),title:new Date(M.createdAt).toLocaleDateString(),children:[O[M.id]&&a.jsx("img",{src:O[M.id],alt:"Wallpaper",className:H.image}),a.jsx("button",{className:H.deleteBtn,onClick:T=>v(T,M.id),title:"Delete",children:a.jsx("img",{src:ba,alt:"Delete",width:10,height:10})})]},M.id))]})},Gt=67324752,Zt=33639248,Vt=101010256,va=(()=>{const e=new Uint32Array(256);for(let s=0;s<256;s++){let n=s;for(let i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[s]=n>>>0}return e})(),Ya=e=>{let s=4294967295;for(let n=0;n<e.length;n++)s=va[(s^e[n])&255]^s>>>8;return(s^4294967295)>>>0},Lt=new TextEncoder,ft=new TextDecoder,_a=e=>{const s=Math.max(e.getFullYear(),1980),n=(e.getHours()&31)<<11|(e.getMinutes()&63)<<5|e.getSeconds()/2&31,i=(s-1980&127)<<9|(e.getMonth()+1&15)<<5|e.getDate()&31;return{time:n,date:i}},m=(e,s,n)=>{e.setUint16(s,n&65535,!0)},_=(e,s,n)=>{e.setUint32(s,n>>>0,!0)},q=(e,s)=>e.getUint16(s,!0),ee=(e,s)=>e.getUint32(s,!0),Ht=(e,s)=>{const n=Lt.encode(e),i=Lt.encode(s),r=Ya(i),{time:c,date:d}=_a(new Date),j=30+n.length,y=46+n.length,O=22,E=j+i.length+y+O,S=new Uint8Array(E),N=new DataView(S.buffer);let g=0;_(N,g+0,Gt),m(N,g+4,20),m(N,g+6,0),m(N,g+8,0),m(N,g+10,c),m(N,g+12,d),_(N,g+14,r),_(N,g+18,i.length),_(N,g+22,i.length),m(N,g+26,n.length),m(N,g+28,0),S.set(n,g+30),g+=j,S.set(i,g),g+=i.length;const z=g;_(N,g+0,Zt),m(N,g+4,20),m(N,g+6,20),m(N,g+8,0),m(N,g+10,0),m(N,g+12,c),m(N,g+14,d),_(N,g+16,r),_(N,g+20,i.length),_(N,g+24,i.length),m(N,g+28,n.length),m(N,g+30,0),m(N,g+32,0),m(N,g+34,0),m(N,g+36,0),_(N,g+38,0),_(N,g+42,0),S.set(n,g+46),g+=y;const h=g-z;return _(N,g+0,Vt),m(N,g+4,0),m(N,g+6,0),m(N,g+8,1),m(N,g+10,1),_(N,g+12,h),_(N,g+16,z),m(N,g+20,0),new Blob([S],{type:"application/zip"})},Ra=e=>{for(let s=e.length-22;s>=0;s--)if(ee(new DataView(e.buffer),s)===Vt)return s;return-1},Pa=async e=>{const s=await e.arrayBuffer(),n=new Uint8Array(s),i=new DataView(s),r=Ra(n);if(r<0)throw new Error("Invalid ZIP: EOCD not found");const c=ee(i,r+16);if(ee(i,c)!==Zt)throw new Error("Invalid ZIP: central directory header not found");if(q(i,c+10)!==0)throw new Error("Unsupported ZIP compression method");const j=q(i,c+28),y=q(i,c+30),O=q(i,c+32),E=ee(i,c+20),S=ee(i,c+42),N=n.slice(c+46,c+46+j),g=ft.decode(N);if(c+46+j+y+O>n.length)throw new Error("Invalid ZIP: out-of-range central directory");if(ee(i,S)!==Gt)throw new Error("Invalid ZIP: local file header not found");const h=q(i,S+26),f=q(i,S+28),Q=S+30+h+f,v=Q+E;if(v>n.length)throw new Error("Invalid ZIP: out-of-range file data");const M=n.slice(Q,v),T=ft.decode(M);return{fileName:g,content:T}},Ke="1.0.0",me="app_language",Ft={space:!0,zenShelf:!0,config:!0},Jt=()=>[...p.getManagedStorageKeys(),me],Ct=async e=>{const s=await e.arrayBuffer(),n=new Uint8Array(s);let i="";const r=32768;for(let c=0;c<n.length;c+=r){const d=n.subarray(c,c+r);i+=String.fromCharCode(...d)}return`data:${e.type||"application/octet-stream"};base64,${btoa(i)}`},Ut=e=>{const[s,n]=e.split(",");if(!s||!n)throw new Error("Invalid data url");const r=s.match(/^data:(.*?);base64$/)?.[1]||"application/octet-stream",c=atob(n),d=new Uint8Array(c.length);for(let j=0;j<c.length;j++)d[j]=c.charCodeAt(j);return new Blob([d],{type:r})},B=(e,s)=>{if(!e)return s;try{return JSON.parse(e)}catch{return s}},P=e=>`${e}_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,$=(e,s,n)=>{if(!s.has(e))return s.add(e),e;let i=P(n);for(;s.has(i);)i=P(n);return s.add(i),i},Fe=(e,s)=>e.map(n=>{const i=$(n.id||P("dock_item"),s,"dock_item");if(n.type==="folder"){const r=Fe(n.items||[],s);return{...n,id:i,items:r}}return{...n,id:i}}),se=e=>{const s=new Set,n=i=>{i.forEach(r=>{if(r.type==="folder"){n(r.items||[]);return}r.url&&s.add(r.url)})};return n(e),s},Ba=(e,s,n)=>{let i=0;const r=c=>{const d=[];return c.forEach(j=>{if(j.type==="folder"){const O=r(j.items||[]);if(O.length===0)return;const E=$(j.id||P("folder"),n,"folder");d.push({...j,id:E,items:O});return}if(j.url&&s.has(j.url)){i+=1;return}j.url&&s.add(j.url);const y=$(j.id||P("dock_item"),n,"dock_item");d.push({...j,id:y})}),d};return{items:r(e),duplicates:i}},ke=e=>({spacesState:B(e[A.SPACES],Bt()),stickers:B(e[A.STICKERS],[]),deletedStickers:B(e[A.DELETED_STICKERS],[]),deletedDockItems:B(e[A.DELETED_DOCK_ITEMS],[]),deletedSpaces:B(e[A.DELETED_SPACES],[]),searchEngine:B(e[A.SEARCH_ENGINE],null),searchEngines:B(e[A.SEARCH_ENGINES],null),language:e[me]||"en",configRaw:e[A.CONFIG]??null,wallpaperIdRaw:e[A.WALLPAPER_ID]??null,wallpaperRaw:e[A.WALLPAPER]??null,lastWallpaperRaw:e[A.LAST_WALLPAPER]??null}),Kt=e=>({...Ft,...e}),b=()=>({current:0,incoming:0,add:0,overwrite:0,conflict:0}),Wa=[A.SPACES,A.DELETED_DOCK_ITEMS,A.DELETED_SPACES],$a=[A.STICKERS,A.DELETED_STICKERS],Ga=[A.SEARCH_ENGINE,A.SEARCH_ENGINES,A.CONFIG,A.WALLPAPER,A.LAST_WALLPAPER,A.WALLPAPER_ID,A.SPACE_RULES,A.SPACE_OVERRIDES,me],$e=(e,s,n)=>{n.forEach(i=>{s[i]=e[i]??null})},Xt=()=>{const e={};return Jt().forEach(s=>{e[s]=localStorage.getItem(s)}),e},Za=async()=>{const[e,s]=await Promise.all([te.getAll(),te.getAllStickerAssets()]);return{wallpapers:await Promise.all(e.map(async i=>({id:i.id,createdAt:i.createdAt,data:await Ct(i.data),thumbnail:i.thumbnail?await Ct(i.thumbnail):void 0}))),stickerAssets:s}},Ge=e=>{Jt().forEach(s=>{const n=e[s];if(n==null){localStorage.removeItem(s);return}localStorage.setItem(s,n)})},Ze=async e=>{await te.clearWallpapers(),await te.clearStickerAssets();const s=e.wallpapers.map(n=>({id:n.id,createdAt:n.createdAt,data:Ut(n.data),thumbnail:n.thumbnail?Ut(n.thumbnail):void 0}));await Promise.all([te.saveMultiple(s),te.saveStickerAssets(e.stickerAssets)])},ue=async(e,s)=>({type:e,exportVersion:Ke,createdAt:Date.now(),localStorageEntries:s||Xt(),assets:await Za()}),qt=(e,s)=>{const n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},es=e=>JSON.stringify(e),Va=e=>JSON.parse(e),ts=()=>new Date().toISOString().slice(0,10).replace(/-/g,""),Ha=(e,s)=>{const n=[...e.spaces],i=new Set(e.spaces.map(y=>y.id)),r=new Set;e.spaces.forEach(y=>{Fe(y.apps,r)});const c=new Map;n.forEach(y=>{c.set(y.name.trim().toLowerCase(),y)});let d=0,j=0;return s.spaces.forEach(y=>{const O=y.name.trim().toLowerCase(),E=c.get(O);if(!E){const g=$(y.id||P("space"),i,"space"),z=Fe(y.apps||[],r),h={...y,id:g,apps:z};n.push(h),c.set(O,h);return}d+=1;const S=se(E.apps||[]),N=Ba(y.apps||[],S,r);j+=N.duplicates,E.apps=[...E.apps||[],...N.items]}),{merged:{spaces:n,activeSpaceId:e.activeSpaceId,version:Math.max(e.version||1,s.version||1)},nameConflicts:d,dockUrlConflicts:j}},bt=(e,s,n)=>{let i=0;return{stickers:e.map(c=>{const d=$(c.id||P("sticker"),s,"sticker");d!==c.id&&(i+=1);const j=c.assetId?n.get(c.assetId)||c.assetId:void 0;return{...c,id:d,assetId:j}}),conflicts:i}},Fa=(e,s,n)=>{const i=[...e.wallpapers],r=[...e.stickerAssets],c=new Set(i.map(E=>E.id)),d=new Set(r.map(E=>E.id)),j=new Map;let y=0;n.config&&s.wallpapers.forEach(E=>{let S=E.id;c.has(S)?(y+=1,S=$(P("wallpaper"),c,"wallpaper")):c.add(S),i.push({...E,id:S})});let O=0;return n.zenShelf&&s.stickerAssets.forEach(E=>{let S=E.id;d.has(S)?(O+=1,S=$(P("sticker_asset"),d,"sticker_asset")):d.add(S),j.set(E.id,S),r.push({...E,id:S})}),{assets:{wallpapers:i,stickerAssets:r},wallpaperConflicts:y,stickerAssetConflicts:O,stickerAssetIdRemap:j}},Ja=(e,s,n,i)=>{const r=ke(e),c=ke(s),{merged:d,nameConflicts:j,dockUrlConflicts:y}=i.space?Ha(r.spacesState,c.spacesState):{merged:r.spacesState,nameConflicts:0,dockUrlConflicts:0},O=new Set(r.stickers.map(k=>k.id)),E=i.zenShelf?bt(c.stickers,O,n):{stickers:[],conflicts:0},S=new Set(r.deletedStickers.map(k=>k.id)),N=i.zenShelf?bt(c.deletedStickers,S,n):{stickers:[],conflicts:0},g=r.searchEngines||[],z=c.searchEngines||[],h=new Map;g.forEach(k=>{h.set(k.id,k)});let f=0;i.config&&z.forEach(k=>{if(h.has(k.id)){f+=1;return}if(Array.from(h.values()).some(we=>we.url===k.url)){f+=1;return}h.set(k.id,k)});const Q=i.config?Array.from(h.values()):g,v=[...r.deletedDockItems],M=new Set(v.map(k=>k.id));i.space&&c.deletedDockItems.forEach(k=>{const F=$(k.id||P("deleted_dock"),M,"deleted_dock");v.push({...k,id:F})});const T=[...r.deletedSpaces],u=new Set(T.map(k=>k.id));return i.space&&c.deletedSpaces.forEach(k=>{const F=$(k.id||P("deleted_space"),u,"deleted_space");T.push({...k,id:F})}),{entries:{...e,[A.SPACES]:JSON.stringify(d),[A.STICKERS]:JSON.stringify([...r.stickers,...E.stickers]),[A.DELETED_STICKERS]:JSON.stringify([...r.deletedStickers,...N.stickers]),[A.DELETED_DOCK_ITEMS]:JSON.stringify(v),[A.DELETED_SPACES]:JSON.stringify(T),[A.SEARCH_ENGINES]:JSON.stringify(Q),[A.SEARCH_ENGINE]:i.config?c.searchEngine&&Q.some(k=>k.id===c.searchEngine?.id)?JSON.stringify(c.searchEngine):Q[0]?JSON.stringify(Q[0]):null:e[A.SEARCH_ENGINE]??null,[A.CONFIG]:i.config?c.configRaw:r.configRaw,[me]:i.config?c.language:r.language,[A.WALLPAPER]:i.config?c.wallpaperRaw:r.wallpaperRaw,[A.LAST_WALLPAPER]:i.config?c.lastWallpaperRaw:r.lastWallpaperRaw,[A.WALLPAPER_ID]:i.config?c.wallpaperIdRaw:r.wallpaperIdRaw,[A.SPACE_RULES]:i.config?s[A.SPACE_RULES]??null:e[A.SPACE_RULES]??null,[A.SPACE_OVERRIDES]:i.config?s[A.SPACE_OVERRIDES]??null:e[A.SPACE_OVERRIDES]??null},preview:{spaces:i.space?{current:r.spacesState.spaces.length,incoming:c.spacesState.spaces.length,add:c.spacesState.spaces.length-j,overwrite:j,conflict:j}:b(),dockUrls:i.space?{current:se(r.spacesState.spaces.flatMap(k=>k.apps||[])).size,incoming:se(c.spacesState.spaces.flatMap(k=>k.apps||[])).size,add:Math.max(0,se(c.spacesState.spaces.flatMap(k=>k.apps||[])).size-y),overwrite:y,conflict:y}:b(),stickers:i.zenShelf?{current:r.stickers.length,incoming:c.stickers.length,add:c.stickers.length-E.conflicts,overwrite:E.conflicts,conflict:E.conflicts}:b(),deletedStickers:i.zenShelf?{current:r.deletedStickers.length,incoming:c.deletedStickers.length,add:c.deletedStickers.length-N.conflicts,overwrite:N.conflicts,conflict:N.conflicts}:b(),searchEngines:i.config?{current:g.length,incoming:z.length,add:z.length-f,overwrite:f,conflict:f}:b(),wallpapers:b(),stickerAssets:b()}}},Xe=(e,s,n,i)=>{const r=ke(e.localStorageEntries),c=ke(s.localStorageEntries),d=new Set(r.spacesState.spaces.map(T=>T.name.trim().toLowerCase())),j=c.spacesState.spaces.filter(T=>d.has(T.name.trim().toLowerCase())).length,y=new Set(r.stickers.map(T=>T.id)),O=c.stickers.filter(T=>y.has(T.id)).length,E=new Set(r.deletedStickers.map(T=>T.id)),S=c.deletedStickers.filter(T=>E.has(T.id)).length,N=new Set((r.searchEngines||[]).map(T=>T.id)),g=new Set((r.searchEngines||[]).map(T=>T.url)),z=(c.searchEngines||[]).filter(T=>N.has(T.id)||g.has(T.url)).length,h=new Set(e.assets.wallpapers.map(T=>T.id)),f=s.assets.wallpapers.filter(T=>h.has(T.id)).length,Q=new Set(e.assets.stickerAssets.map(T=>T.id)),v=s.assets.stickerAssets.filter(T=>Q.has(T.id)).length,M=(T,u,W)=>({current:T,incoming:u,add:n==="overwrite"?u:u-W,overwrite:n==="overwrite"?T:W,conflict:W});return{spaces:i.space?M(r.spacesState.spaces.length,c.spacesState.spaces.length,j):b(),dockUrls:i.space?M(se(r.spacesState.spaces.flatMap(T=>T.apps||[])).size,se(c.spacesState.spaces.flatMap(T=>T.apps||[])).size,0):b(),stickers:i.zenShelf?M(r.stickers.length,c.stickers.length,O):b(),deletedStickers:i.zenShelf?M(r.deletedStickers.length,c.deletedStickers.length,S):b(),searchEngines:i.config?M((r.searchEngines||[]).length,(c.searchEngines||[]).length,z):b(),wallpapers:i.config?M(e.assets.wallpapers.length,s.assets.wallpapers.length,f):b(),stickerAssets:i.zenShelf?M(e.assets.stickerAssets.length,s.assets.stickerAssets.length,v):b()}},Ka=(e,s,n)=>{const i=Fa(e.assets,s.assets,n),r=Ja(e.localStorageEntries,s.localStorageEntries,i.stickerAssetIdRemap,n),c=Xe(e,s,"merge",n);return n.config&&(c.wallpapers.conflict=i.wallpaperConflicts,c.wallpapers.overwrite=i.wallpaperConflicts,c.wallpapers.add=s.assets.wallpapers.length-i.wallpaperConflicts),n.zenShelf&&(c.stickerAssets.conflict=i.stickerAssetConflicts,c.stickerAssets.overwrite=i.stickerAssetConflicts,c.stickerAssets.add=s.assets.stickerAssets.length-i.stickerAssetConflicts),{merged:{type:"eclipse-full-backup",exportVersion:Ke,createdAt:Date.now(),localStorageEntries:r.entries,assets:i.assets},preview:c}},Xa=e=>{if(!e||typeof e!="object")throw new Error("Invalid backup package");const s=e;if(s.type!=="eclipse-full-backup"&&s.type!=="eclipse-space-snapshot"||typeof s.exportVersion!="string"||!s.localStorageEntries||!s.assets)throw new Error("Invalid backup package structure");if(s.exportVersion!==Ke)throw new Error(`Unsupported backup version: ${s.exportVersion}`);return s},qa=(e,s,n)=>{const i={...e.localStorageEntries};return n.space&&$e(s.localStorageEntries,i,Wa),n.zenShelf&&$e(s.localStorageEntries,i,$a),n.config&&$e(s.localStorageEntries,i,Ga),{type:e.type,exportVersion:e.exportVersion,createdAt:Date.now(),localStorageEntries:i,assets:{wallpapers:n.config?s.assets.wallpapers:e.assets.wallpapers,stickerAssets:n.zenShelf?s.assets.stickerAssets:e.assets.stickerAssets}}},ei=e=>{const s=Xt(),n=B(s[A.SPACES],Bt()),i={spaces:[{...e}],activeSpaceId:e.id,version:n.version||1};s[A.SPACES]=JSON.stringify(i);const r=B(s[A.DELETED_DOCK_ITEMS],[]);s[A.DELETED_DOCK_ITEMS]=JSON.stringify(r.filter(d=>d.spaceId===e.id));const c=B(s[A.DELETED_SPACES],[]);return s[A.DELETED_SPACES]=JSON.stringify(c.filter(d=>d.space.id===e.id)),s},ti=async()=>{const e=await ue("eclipse-full-backup"),s=Ht("backup.json",es(e));qt(s,`eclipse-full-backup-${ts()}.zip`)},si=async()=>ue("eclipse-full-backup"),Je=e=>Xa(Va(e)),ni=async e=>{const s=ei(e),n=await ue("eclipse-space-snapshot",s),i=Ht("snapshot.json",es(n));qt(i,`eclipse-space-snapshot-${e.name.toLowerCase()}-${ts()}.zip`)},ai=async e=>{const s=async()=>{const n=await e.text();return Je(n)};try{if(e.name.toLowerCase().endsWith(".zip")){const{content:n}=await Pa(e);return Je(n)}return await s()}catch(n){return Oe.warn("Failed to parse as zip, fallback to JSON parsing",n),s()}},xe=async(e,s,n)=>{const i=await ue("eclipse-full-backup");return Xe(i,e,s,Kt(n))},Qt=async(e,s,n)=>{const i=await ue("eclipse-full-backup"),r=Kt(n);let c=!1;try{if(s==="overwrite"){const j=Xe(i,e,s,r),y=qa(i,e,r);return Ge(y.localStorageEntries),await Ze(y.assets),p.resetMemoryCache(),{strategy:s,preview:j,restoredFromRollback:c}}const d=Ka(i,e,r);return Ge(d.merged.localStorageEntries),await Ze(d.merged.assets),p.resetMemoryCache(),{strategy:s,preview:d.preview,restoredFromRollback:c}}catch(d){throw Oe.error("[Backup] Import failed, rolling back snapshot",d),c=!0,Ge(i.localStorageEntries),await Ze(i.assets),p.resetMemoryCache(),d}},ss=1,qe=12e4,ii="SHA-256",et="AES-GCM",oi=256,ci=16,ri=12,Mi=e=>{let s="";for(let n=0;n<e.length;n+=1)s+=String.fromCharCode(e[n]);return typeof btoa=="function"?btoa(s):Buffer.from(s,"binary").toString("base64")},li=e=>{const s=typeof atob=="function"?atob(e):Buffer.from(e,"base64").toString("binary"),n=new Uint8Array(s.length);for(let i=0;i<s.length;i+=1)n[i]=s.charCodeAt(i);return n},Ve=e=>Mi(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,""),He=e=>{const s=e.replace(/-/g,"+").replace(/_/g,"/"),n=s.padEnd(Math.ceil(s.length/4)*4,"=");return li(n)},vt=e=>{const s=new Uint8Array(e);return crypto.getRandomValues(s),s},le=e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),ns=async(e,s)=>{if(!e.trim())throw new Error("Password is required");if(!crypto?.subtle)throw new Error("Web Crypto API is unavailable");const n=new TextEncoder,i=await crypto.subtle.importKey("raw",n.encode(e),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:le(s),iterations:qe,hash:ii},i,{name:et,length:oi},!1,["encrypt","decrypt"])},ui=async(e,s)=>{const n=new TextEncoder,i=vt(ci),r=vt(ri),c=await ns(s,i),d=n.encode(JSON.stringify(e)),j=await crypto.subtle.encrypt({name:et,iv:le(r)},c,le(d)),y={version:ss,algorithm:"AES-GCM",kdf:"PBKDF2-SHA256",iterations:qe,salt:Ve(i),iv:Ve(r),cipherText:Ve(new Uint8Array(j)),createdAt:Date.now()};return JSON.stringify(y)},gi=e=>{let s;try{s=JSON.parse(e)}catch{throw new Error("Encrypted backup payload is not valid JSON")}if(!s||typeof s!="object")throw new Error("Encrypted backup payload is invalid");const n=s;if(n.version!==ss||n.algorithm!=="AES-GCM"||n.kdf!=="PBKDF2-SHA256"||typeof n.iterations!="number"||typeof n.salt!="string"||typeof n.iv!="string"||typeof n.cipherText!="string")throw new Error("Encrypted backup payload structure is invalid");return n},Di=async(e,s)=>{const n=gi(e);if(n.iterations!==qe)throw new Error(`Unsupported encryption iterations: ${n.iterations}`);const i=He(n.salt),r=He(n.iv),c=He(n.cipherText),d=await ns(s,i);try{const j=await crypto.subtle.decrypt({name:et,iv:le(r)},d,le(c));return new TextDecoder().decode(j)}catch{throw new Error("Failed to decrypt backup payload")}},Ni=e=>e.trim(),Ii=e=>{const s=new TextEncoder().encode(e);let n="";for(let i=0;i<s.length;i+=1)n+=String.fromCharCode(s[i]);return typeof btoa=="function"?btoa(n):Buffer.from(n,"binary").toString("base64")},as=(e,s)=>`Basic ${Ii(`${e}:${s}`)}`,ze=e=>{const s=e.trim();if(!s)throw new Error("WebDAV endpoint is required");let n;try{n=new URL(s)}catch{throw new Error("WebDAV endpoint URL is invalid")}if(n.protocol!=="https:"&&n.protocol!=="http:")throw new Error("WebDAV endpoint must use http or https");return n.toString()},ji=e=>{const s=ze(e);return`${new URL(s).origin}/*`},Yt=async e=>{if(typeof chrome>"u"||!chrome.permissions?.contains||!chrome.permissions?.request)return!0;const s=ji(e);return await new Promise(i=>{chrome.permissions.contains({origins:[s]},r=>{if(chrome.runtime?.lastError){Oe.warn("[WebDAV] permissions.contains failed",chrome.runtime.lastError),i(!1);return}i(!!r)})})?!0:new Promise(i=>{chrome.permissions.request({origins:[s]},r=>{if(chrome.runtime?.lastError){Oe.warn("[WebDAV] permissions.request failed",chrome.runtime.lastError),i(!1);return}i(!!r)})})},is=e=>{const s=ze(e.endpoint),n=Ni(e.username),i=e.password;if(!n)throw new Error("WebDAV username is required");if(!i)throw new Error("WebDAV password is required");return{endpoint:s,username:n,password:i}},di=async(e,s)=>{const{endpoint:n,username:i,password:r}=is(e),c=await fetch(n,{method:"PUT",headers:{Authorization:as(i,r),"Content-Type":"application/json; charset=utf-8","Cache-Control":"no-store"},body:s});if(!c.ok)throw new Error(`WebDAV upload failed (${c.status})`)},Ti=async e=>{const{endpoint:s,username:n,password:i}=is(e),r=await fetch(s,{method:"GET",headers:{Authorization:as(n,i),"Cache-Control":"no-store"}});if(r.status===404)throw new Error("Remote backup does not exist");if(!r.ok)throw new Error(`WebDAV download failed (${r.status})`);return r.text()},os=(e,s)=>{e.forEach(n=>{n.url&&s.push(n),n.children?.length&&os(n.children,s)})},Ai=e=>{const s=[];return os(e,s),s},yi=e=>{const s=new Set,n=i=>{i.forEach(r=>{if(r.type==="folder"&&r.items){n(r.items);return}if(r.url)try{s.add(Wt(r.url))}catch{}})};return n(e),s},Ei=(e,s,n)=>{const i=Math.max(1,n.limit),r=yi(s),c=new Set,d=new Set;let j=0,y=0,O=0;const E=[],S=Ai(e);for(const N of S){if(E.length>=i)break;if(!N.url){O+=1;continue}let g="";try{g=Wt(N.url)}catch{O+=1;continue}if(r.has(g)||c.has(g)){j+=1;continue}const z=Js(g);if(n.mergeByDomain&&d.has(z)){y+=1;continue}c.add(g),n.mergeByDomain&&d.add(z),E.push({title:(N.title||z||"Bookmark").trim()||z||"Bookmark",url:g,domain:z})}return{total:S.length,selected:E,skippedExistingUrl:j,skippedDomainMerged:y,skippedInvalid:O}},xi=e=>e.map((s,n)=>({id:`bookmark_${Date.now()}_${n}_${Math.random().toString(36).slice(2,7)}`,name:s.title,url:s.url,type:"app"})),_t="merge",pi=e=>typeof window>"u"||typeof window.confirm!="function"?!1:window.confirm(e),Rt=(e,s=pi)=>s(e==="zh"?"导入策略：确定 = 合并导入；取消 = 继续选择覆盖导入。":"Import strategy: OK = merge import; Cancel = continue to overwrite option.")?"merge":s(e==="zh"?"是否使用覆盖导入？（取消则放弃本次导入）":"Use overwrite import? (Cancel to abort this import)")?"overwrite":null,pe=e=>{const s=Math.max(0,Math.min(1439,Math.floor(e))),n=Math.floor(s/60).toString().padStart(2,"0"),i=(s%60).toString().padStart(2,"0");return`${n}:${i}`},Se=(e,s)=>{const n=e.match(/^(\d{1,2}):(\d{2})$/);if(!n)return s;const i=Number(n[1]),r=Number(n[2]);return!Number.isFinite(i)||!Number.isFinite(r)||i<0||i>23||r<0||r>59?s:i*60+r},Si=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Oi=["日","一","二","三","四","五","六"],ki=()=>{const[e,s]=I.useState(null),[n,i]=I.useState(!1),[r,c]=I.useState(!0),{t:d}=$t(),j=I.useCallback(async()=>{if(typeof chrome>"u"||!chrome.permissions?.contains){c(!1),s(!1);return}c(!0);const[O,E]=await Promise.all(Mn.map(S=>ln(S)));s(O||E)},[]);I.useEffect(()=>{j()},[j]);const y=()=>{if(!(n||e===null||!r)){if(i(!0),typeof chrome>"u"||!chrome.permissions){i(!1);return}e?chrome.permissions.remove({origins:[...ht]},O=>{O&&j(),i(!1)}):chrome.permissions.request({origins:[...ht]},O=>{O&&j(),i(!1)})}};return a.jsxs("div",{className:o.layoutToggleGroup,children:[e!==null&&a.jsx("div",{className:o.layoutHighlight,style:{transform:`translateX(${e?0:100}%)`}}),a.jsx("button",{className:o.layoutToggleOption,onClick:e===!0||!r?void 0:y,title:d.settings.on,disabled:!r||n,children:d.settings.on}),a.jsx("button",{className:o.layoutToggleOption,onClick:e===!1||!r?void 0:y,title:d.settings.off,disabled:!r||n,children:d.settings.off})]})},Li=({isOpen:e,onClose:s,anchorPosition:n})=>{const{theme:i,setTheme:r,followSystem:c,setFollowSystem:d,wallpaper:j,setWallpaper:y,gradientId:O,setGradientId:E,texture:S,setTexture:N,dockPosition:g,setDockPosition:z,iconSize:h,setIconSize:f,openInNewTab:Q,setOpenInNewTab:v}=Pt(),{language:M,setLanguage:T,t:u}=$t(),{currentSpace:W,spaces:k}=Ks(),{dockItems:F,setDockItems:we,appendDockItems:cs}=Xs(),{showUndo:rs}=qs(),[Ms,ls]=I.useState(()=>p.getAllowThirdPartyIconService()),[us,tt]=I.useState(()=>p.getSearchStickerContent()),[ge,he]=I.useState(()=>p.getWebDavEndpoint()),[De,Le]=I.useState(()=>p.getWebDavUsername()),[Ne,gs]=I.useState(""),[J,Ie]=I.useState(null),[je,ne]=I.useState(""),[st,nt]=I.useState(()=>p.getCloudSyncLastBackupAt()),[at,it]=I.useState(()=>p.getCloudSyncLastRestoreAt()),[Y,Ds]=I.useState(null),[Ns,ot]=I.useState(!1),[Z,fe]=I.useState(null),[L,Is]=I.useState(Ft),[ct,K]=I.useState(""),[Ce,rt]=I.useState(!1),de=I.useRef(null),[Te,js]=I.useState(20),[Mt,lt]=I.useState(!0),[C,ds]=I.useState(null),[ut,gt]=I.useState(!1),[G,Dt]=I.useState(()=>p.getSpaceRules()),[Ue,be]=I.useState(""),[Qe,Ae]=I.useState(!1),[Ts,Nt]=I.useState(()=>p.getSpaceSuggestionCooldownMinutes()),[ve,It]=I.useState(()=>p.getSpaceSuggestionQuietHoursEnabled()),[jt,dt]=I.useState(()=>p.getSpaceSuggestionQuietStartMinute()),[Tt,At]=I.useState(()=>p.getSpaceSuggestionQuietEndMinute()),yt=en(),[ae,ie]=I.useState(e),V=I.useRef(null),oe=I.useRef(!1),Ye=i==="default"&&!c;I.useEffect(()=>{e&&(oe.current=!1,ie(!0))},[e]),I.useEffect(()=>{e&&ae&&V.current&&tn(V.current)},[e,ae]);const ce=I.useCallback(async()=>{ot(!0);try{const t=await sn();Ds(t)}finally{ot(!1)}},[]);I.useEffect(()=>{e&&ce()},[e,ce]);const re=I.useCallback(t=>{Dt(t),p.saveSpaceRules(t)},[]),Et=I.useCallback(async()=>{if(typeof chrome>"u"||!chrome.permissions?.contains){Ae(!1);return}const t=await new Promise(l=>{chrome.permissions.contains({permissions:["tabs"]},D=>{if(chrome.runtime?.lastError){l(!1);return}l(!!D)})});Ae(t)},[]),As=I.useCallback(async()=>{if(typeof chrome>"u"||!chrome.permissions?.request){Ae(!1);return}const t=await new Promise(l=>{chrome.permissions.request({permissions:["tabs"]},D=>{if(chrome.runtime?.lastError){l(!1);return}l(!!D)})});Ae(t)},[]);I.useEffect(()=>{const t=()=>{Dt(p.getSpaceRules())};return window.addEventListener("eclipse-space-rules-changed",t),()=>{window.removeEventListener("eclipse-space-rules-changed",t)}},[]),I.useEffect(()=>{e&&Et()},[e,Et]),I.useEffect(()=>{const t=()=>{Nt(p.getSpaceSuggestionCooldownMinutes()),It(p.getSpaceSuggestionQuietHoursEnabled()),dt(p.getSpaceSuggestionQuietStartMinute()),At(p.getSpaceSuggestionQuietEndMinute()),tt(p.getSearchStickerContent()),he(p.getWebDavEndpoint()),Le(p.getWebDavUsername()),nt(p.getCloudSyncLastBackupAt()),it(p.getCloudSyncLastRestoreAt())};return window.addEventListener("eclipse-config-changed",t),()=>{window.removeEventListener("eclipse-config-changed",t)}},[]),I.useEffect(()=>{!e&&ae&&!oe.current&&(oe.current=!0,V.current?mt(V.current,300,()=>ie(!1)):ie(!1))},[e,ae]);const _e=t=>{r(t),t==="default"&&E("theme-default"),c&&d(!1)},ys=()=>{d(!c)},Es=t=>{if(j){y(null),E(t);return}O===t?(E(t==="theme-default"?"gradient-1":"theme-default"),requestAnimationFrame(()=>{E(t)})):E(t)},xt=t=>{N(t)},pt=t=>{t&&!p.getThirdPartyIconServicePrompted()&&(p.saveThirdPartyIconServicePrompted(!0),!window.confirm(u.settings.thirdPartyIconServiceHint))||(ls(t),p.saveAllowThirdPartyIconService(t))},St=t=>{tt(t),p.saveSearchStickerContent(t)},ye=I.useCallback(t=>{if(!t)return M==="zh"?"未执行":"Not yet";try{return new Date(t).toLocaleString()}catch{return String(t)}},[M]),Ot=I.useCallback(()=>{const t=ze(ge),l=De.trim();if(!l)throw new Error(M==="zh"?"请填写 WebDAV 用户名。":"WebDAV username is required.");if(!Ne)throw new Error(M==="zh"?"请填写 WebDAV 密码。":"WebDAV password is required.");return{endpoint:t,username:l,password:Ne}},[M,ge,Ne,De]),Re=I.useCallback((t,l)=>{p.saveWebDavEndpoint(t),p.saveWebDavUsername(l),he(t),Le(l)},[]),xs=()=>{try{const t=ze(ge),l=De.trim();if(!l){window.alert(M==="zh"?"请填写 WebDAV 用户名。":"WebDAV username is required.");return}Re(t,l),ne(M==="zh"?"已保存 WebDAV 配置。":"WebDAV config saved.")}catch(t){const l=t instanceof Error?t.message:"Invalid WebDAV config";window.alert(l)}},ps=async()=>{if(!J){Ie("backup");try{const t=Ot();if(Re(t.endpoint,t.username),!await Yt(t.endpoint)){window.alert(M==="zh"?"未授予 WebDAV 站点权限，无法执行远端备份。":"WebDAV host permission was not granted.");return}const D=await si(),x=await ui(D,t.password);await di(t,x);const w=Date.now();p.saveCloudSyncLastBackupAt(w),nt(w),ne(M==="zh"?`WebDAV 备份成功（${new Date(w).toLocaleTimeString()}）`:`WebDAV backup completed (${new Date(w).toLocaleTimeString()})`)}catch(t){const l=t instanceof Error?t.message:"WebDAV backup failed";ne(l),window.alert(l)}finally{Ie(null)}}},Ss=async()=>{if(!J){Ie("restore");try{const t=Ot();if(Re(t.endpoint,t.username),!await Yt(t.endpoint)){window.alert(M==="zh"?"未授予 WebDAV 站点权限，无法执行远端恢复。":"WebDAV host permission was not granted.");return}const D=await Ti(t),x=await Di(D,t.password),w=Je(x);fe(w);const R=Rt(M);if(!R)return;const We=await xe(w,R,L);if(K(Me(We)),!window.confirm(M==="zh"?`即将执行 ${R==="merge"?"合并导入":"覆盖导入"}，是否继续？`:`Import with strategy "${R}" now?`))return;await Qt(w,R,L);const Ee=Date.now();p.saveCloudSyncLastRestoreAt(Ee),it(Ee),ne(M==="zh"?`WebDAV 恢复成功（${new Date(Ee).toLocaleTimeString()}）`:`WebDAV restore completed (${new Date(Ee).toLocaleTimeString()})`),window.alert(M==="zh"?`恢复完成（${R}）`:`Restore completed (${R})`),window.location.reload()}catch(t){const l=t instanceof Error?t.message:"WebDAV restore failed";ne(l),window.alert(l)}finally{Ie(null)}}},Me=I.useCallback(t=>{const l=[];return L.space&&l.push(M==="zh"?`空间：新增 ${t.spaces.add} / 覆盖 ${t.spaces.overwrite} / 冲突 ${t.spaces.conflict}`:`Spaces: +${t.spaces.add} / overwrite ${t.spaces.overwrite} / conflicts ${t.spaces.conflict}`,M==="zh"?`Dock URL：新增 ${t.dockUrls.add} / 覆盖 ${t.dockUrls.overwrite} / 冲突 ${t.dockUrls.conflict}`:`Dock URLs: +${t.dockUrls.add} / overwrite ${t.dockUrls.overwrite} / conflicts ${t.dockUrls.conflict}`),L.zenShelf&&l.push(M==="zh"?`贴纸：新增 ${t.stickers.add} / 覆盖 ${t.stickers.overwrite} / 冲突 ${t.stickers.conflict}`:`Stickers: +${t.stickers.add} / overwrite ${t.stickers.overwrite} / conflicts ${t.stickers.conflict}`,M==="zh"?`贴纸资源：新增 ${t.stickerAssets.add} / 覆盖 ${t.stickerAssets.overwrite} / 冲突 ${t.stickerAssets.conflict}`:`Sticker assets: +${t.stickerAssets.add} / overwrite ${t.stickerAssets.overwrite} / conflicts ${t.stickerAssets.conflict}`),L.config&&l.push(M==="zh"?`搜索引擎：新增 ${t.searchEngines.add} / 覆盖 ${t.searchEngines.overwrite} / 冲突 ${t.searchEngines.conflict}`:`Search engines: +${t.searchEngines.add} / overwrite ${t.searchEngines.overwrite} / conflicts ${t.searchEngines.conflict}`,M==="zh"?`壁纸资源：新增 ${t.wallpapers.add} / 覆盖 ${t.wallpapers.overwrite} / 冲突 ${t.wallpapers.conflict}`:`Wallpapers: +${t.wallpapers.add} / overwrite ${t.wallpapers.overwrite} / conflicts ${t.wallpapers.conflict}`),l.join(`
`)},[L,M]),Pe=I.useCallback(t=>{Is(l=>{const D={...l,[t]:!l[t]};return!D.space&&!D.zenShelf&&!D.config?l:D})},[]);I.useEffect(()=>{if(!Z)return;let t=!1;return(async()=>{try{const D=await xe(Z,_t,L);if(t)return;K(Me(D))}catch(D){if(t)return;const x=D instanceof Error?D.message:"Import preview failed";K(x)}})(),()=>{t=!0}},[Me,Z,L]);const Os=async()=>{try{await ti()}catch(t){window.alert(t instanceof Error?t.message:"Export failed")}},ks=async()=>{try{await ni(W)}catch(t){window.alert(t instanceof Error?t.message:"Export failed")}},zs=()=>{de.current?.click()},ms=async t=>{const l=t.target.files?.[0];if(l)try{const D=await ai(l);fe(D);const x=await xe(D,_t,L);K(Me(x))}catch(D){const x=D instanceof Error?D.message:"Import file parse failed";window.alert(x),fe(null),K("")}finally{de.current&&(de.current.value="")}},ws=async()=>{if(!Z||Ce)return;if(!L.space&&!L.zenShelf&&!L.config){window.alert(M==="zh"?"请至少选择一个导入范围。":"Select at least one import scope.");return}const t=Rt(M);if(!(!t||!window.confirm(M==="zh"?`即将执行 ${t==="merge"?"合并导入":"覆盖导入"}，是否继续？`:`Import with strategy "${t}" now?`))){rt(!0);try{const D=await xe(Z,t,L);K(Me(D));const x=await Qt(Z,t,L);window.alert(M==="zh"?`导入完成（${x.strategy}）`:`Import completed (${x.strategy})`),window.location.reload()}catch(D){const x=D instanceof Error?D.message:"Import failed";window.alert(x)}finally{rt(!1)}}},hs=async()=>typeof chrome>"u"||!chrome.permissions?.request||!chrome.permissions?.contains?!1:await new Promise(l=>{chrome.permissions.contains({permissions:["bookmarks"]},D=>{if(chrome.runtime?.lastError){l(!1);return}l(!!D)})})?!0:new Promise(l=>{chrome.permissions.request({permissions:["bookmarks"]},D=>{if(chrome.runtime?.lastError){l(!1);return}l(!!D)})}),Ls=async()=>{gt(!0);try{if(!await hs()){window.alert(M==="zh"?"未授予书签权限，无法导入。":"Bookmark permission was not granted.");return}const l=await new Promise(x=>{chrome.bookmarks.getTree(w=>x(w))}),D=Ei(l,F,{limit:Te,mergeByDomain:Mt});ds(D)}finally{gt(!1)}},fs=async()=>{if(!C||C.selected.length===0)return;const t=xi(C.selected),l=await Promise.all(t.map(async x=>{if(!x.url)return x;try{const w=await un(x.url);return{...x,icon:w.url}}catch{return x}}));cs(l);const D=new Set(l.map(x=>x.id));rs(M==="zh"?`已导入 ${l.length} 个书签`:`Imported ${l.length} bookmarks`,()=>{we(x=>x.filter(w=>!D.has(w.id)))})},Cs=async()=>{const t=await gn(6);window.alert(M==="zh"?`已清理 ${t.removedCount} 张旧壁纸，约释放 ${U(t.estimatedFreedBytes)}`:`Removed ${t.removedCount} wallpapers, freed ~${U(t.estimatedFreedBytes)}`),ce()},Us=async()=>{const t=await Dn();window.alert(M==="zh"?`已重压缩 ${t.removedCount} 个贴纸资源，约释放 ${U(t.estimatedFreedBytes)}`:`Recompressed ${t.removedCount} sticker assets, freed ~${U(t.estimatedFreedBytes)}`),ce()},Be=(t,l)=>{const D=G.map(x=>x.id!==t||x.type!=="time"?x:l(x));re(D)},bs=(t,l)=>{Be(t,D=>{const w=D.days.includes(l)?D.days.filter(R=>R!==l):[...D.days,l];return w.length===0?D:{...D,days:w.sort((R,We)=>R-We)}})},Qs=(t,l,D)=>{const x=Se(l,D);Be(t,w=>({...w,startMinute:x}))},vs=(t,l,D)=>{const x=Se(l,D);Be(t,w=>({...w,endMinute:x}))},Ys=t=>{const l=Number(t),D=Number.isFinite(l)?Math.max(1,Math.min(180,Math.floor(l))):10;Nt(D),p.saveSpaceSuggestionCooldownMinutes(D)},kt=t=>{It(t),p.saveSpaceSuggestionQuietHoursEnabled(t)},_s=t=>{const l=Se(t,jt);dt(l),p.saveSpaceSuggestionQuietStartMinute(l)},Rs=t=>{const l=Se(t,Tt);At(l),p.saveSpaceSuggestionQuietEndMinute(l)},Ps=()=>{re([...G,Nn(W.id)])},zt=()=>{const t=wt(Ue);if(!t)return;if(G.some(D=>D.type==="domain"&&D.spaceId===W.id&&wt(D.domain)===t)){be("");return}re([...G,In(W.id,t)]),be("")},Bs=t=>{re(G.map(l=>l.id===t?{...l,enabled:!l.enabled}:l))},Ws=t=>{re(G.filter(l=>l.id!==t))},$s={left:`${n.x}px`,top:`${n.y}px`},Gs=new Map(k.map(t=>[t.id,t.name])),Zs=M==="zh"?Oi:Si;let X=-1;c?X=0:i==="light"?X=1:i==="dark"&&(X=2);const Vs={transform:X>=0?`translateX(${X*56}px)`:"scale(0)",opacity:X>=0?1:0},Hs=()=>{oe.current||(oe.current=!0,V.current?mt(V.current,300,()=>{ie(!1),s()}):(ie(!1),s()))};return ae?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:o.backdrop,"data-ui-zone":"settings-modal",onClick:Hs}),a.jsx("div",{ref:V,className:o.modal,"data-ui-zone":"settings-modal",style:$s,children:a.jsxs("div",{className:o.innerContainer,children:[a.jsxs("div",{className:o.iconContainer,children:[a.jsxs("div",{className:o.themeGroupContainer,children:[a.jsx("div",{className:o.highlightBackground,style:Vs}),a.jsx("button",{className:o.themeGroupOption,onClick:ys,title:u.settings.followSystem,children:a.jsx("img",{src:nn,alt:"Follow System",width:24,height:24})}),a.jsx("button",{className:o.themeGroupOption,onClick:()=>_e("light"),title:u.settings.lightTheme,children:a.jsx("img",{src:xa,alt:"Light Theme",width:24,height:24})}),a.jsx("button",{className:o.themeGroupOption,onClick:()=>_e("dark"),title:u.settings.darkTheme,children:a.jsx("img",{src:pa,alt:"Dark Theme",width:24,height:24})})]}),a.jsx("button",{className:`${o.defaultTheme} ${Ye?o.defaultThemeActive:""}`,onClick:()=>_e("default"),title:u.settings.defaultTheme,children:a.jsx("img",{src:Ea,alt:"Default Theme",width:24,height:24})})]}),a.jsx("div",{className:`${o.textureSectionWrapper} ${!Ye&&!j?o.textureSectionWrapperOpen:""}`,children:a.jsxs("div",{className:o.textureSection,children:[a.jsx("button",{className:`${o.textureOption} ${S==="none"?o.textureOptionActive:""}`,onClick:()=>xt("none"),title:u.settings.noTexture,children:a.jsx("div",{className:o.texturePreviewNone,children:a.jsx("img",{src:an,alt:"No Texture",width:24,height:24})})}),["point","cross"].map(t=>{const l=jn[t],D=t==="point"?Sa:Oa;return a.jsx("button",{className:`${o.textureOption} ${S===t?o.textureOptionActive:""}`,onClick:()=>xt(t),title:l.name,children:a.jsx("div",{className:o.texturePreviewNone,children:a.jsx("img",{src:D,alt:l.name,width:24,height:24})})},t)})]})}),a.jsx("div",{className:o.colorOptionsContainer,children:on.map(t=>{let l="";const D=t.id==="theme-default";D?l="var(--color-bg-secondary)":Ye?l=t.gradient:l=(i==="dark"||c&&yt==="dark")&&"solidDark"in t?t.solidDark:t.solid;const x=!j&&O===t.id;return a.jsx("button",{className:`${o.colorOption} ${x?o.colorOptionActive:""}`,onClick:()=>Es(t.id),title:t.name,style:{background:l,display:"flex",alignItems:"center",justifyContent:"center"},children:D&&a.jsx("img",{src:cn,alt:"Default",width:24,height:24,style:{filter:i==="dark"||c&&yt==="dark"?"invert(1)":"none"}})},t.id)})}),a.jsx("div",{className:o.wallpaperSection,children:a.jsx(Qa,{})}),a.jsxs("div",{className:o.layoutSection,children:[a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:u.settings.language}),a.jsxs("div",{className:o.layoutToggleGroup,children:[a.jsx("div",{className:o.layoutHighlight,style:{transform:`translateX(${M==="zh"?0:100}%)`}}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>T("zh"),title:"中文",children:"中文"}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>T("en"),title:"EN",children:"EN"})]})]}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:u.settings.position}),a.jsxs("div",{className:o.layoutToggleGroup,children:[a.jsx("div",{className:o.layoutHighlight,style:{transform:`translateX(${g==="bottom"?0:100}%)`}}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>z("bottom"),title:u.settings.bottom,children:u.settings.bottom}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>z("center"),title:u.settings.center,children:u.settings.center})]})]}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:u.settings.iconSize}),a.jsxs("div",{className:o.layoutToggleGroup,children:[a.jsx("div",{className:o.layoutHighlight,style:{transform:`translateX(${h==="large"?0:100}%)`}}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>f("large"),title:u.settings.large,children:u.settings.large}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>f("small"),title:u.settings.small,children:u.settings.small})]})]}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:u.settings.suggestions}),a.jsx(ki,{})]}),a.jsx("div",{className:o.layoutHint,children:u.settings.suggestionsPrivacyHint}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:u.settings.thirdPartyIconService}),a.jsxs("div",{className:o.layoutToggleGroup,children:[a.jsx("div",{className:o.layoutHighlight,style:{transform:`translateX(${Ms?0:100}%)`}}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>pt(!0),title:u.settings.on,children:u.settings.on}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>pt(!1),title:u.settings.off,children:u.settings.off})]})]}),a.jsx("div",{className:o.layoutHint,children:u.settings.thirdPartyIconDomainsHint}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:M==="zh"?"搜索贴纸内容":"Search Sticker Content"}),a.jsxs("div",{className:o.layoutToggleGroup,children:[a.jsx("div",{className:o.layoutHighlight,style:{transform:`translateX(${us?0:100}%)`}}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>St(!0),title:u.settings.on,children:u.settings.on}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>St(!1),title:u.settings.off,children:u.settings.off})]})]}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:u.settings.openInNewTab}),a.jsxs("div",{className:o.layoutToggleGroup,children:[a.jsx("div",{className:o.layoutHighlight,style:{transform:`translateX(${Q?0:100}%)`}}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>v(!0),title:u.settings.on,children:u.settings.on}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>v(!1),title:u.settings.off,children:u.settings.off})]})]}),a.jsx("div",{className:o.sectionDivider}),a.jsx("div",{className:o.subSectionTitle,children:M==="zh"?"数据管理":"Data Management"}),a.jsxs("div",{className:o.actionRow,children:[a.jsx("button",{className:o.actionButton,onClick:Os,children:M==="zh"?"导出全量备份":"Export Full Backup"}),a.jsx("button",{className:o.actionButton,onClick:ks,children:M==="zh"?"导出当前空间包":"Export Current Space"})]}),a.jsxs("div",{className:o.actionRow,children:[a.jsx("button",{className:o.actionButton,onClick:zs,children:M==="zh"?"选择导入文件":"Select Import File"}),a.jsx("input",{ref:de,type:"file",accept:".zip,.json",style:{display:"none"},onChange:ms})]}),a.jsxs("div",{className:o.actionRow,children:[a.jsx("button",{className:`${o.actionButton} ${L.space?o.actionButtonActive:""}`,onClick:()=>Pe("space"),children:M==="zh"?"导入 Space":"Import Space"}),a.jsx("button",{className:`${o.actionButton} ${L.zenShelf?o.actionButtonActive:""}`,onClick:()=>Pe("zenShelf"),children:M==="zh"?"导入 ZenShelf":"Import ZenShelf"}),a.jsx("button",{className:`${o.actionButton} ${L.config?o.actionButtonActive:""}`,onClick:()=>Pe("config"),children:M==="zh"?"导入配置":"Import Config"})]}),ct&&a.jsx("pre",{className:o.previewBox,children:ct}),a.jsx("div",{className:o.actionRow,children:a.jsx("button",{className:o.actionButton,disabled:!Z||Ce,onClick:ws,children:Ce?M==="zh"?"导入中...":"Importing...":M==="zh"?"执行导入":"Run Import"})}),a.jsx("div",{className:o.sectionDivider}),a.jsx("div",{className:o.subSectionTitle,children:M==="zh"?"WebDAV 同步（手动）":"WebDAV Sync (Manual)"}),a.jsx("div",{className:o.actionRow,children:a.jsx("input",{className:o.textInputSmall,value:ge,onChange:t=>he(t.target.value),placeholder:M==="zh"?"WebDAV 文件 URL":"WebDAV file URL"})}),a.jsxs("div",{className:o.actionRow,children:[a.jsx("input",{className:o.textInputSmall,value:De,onChange:t=>Le(t.target.value),placeholder:M==="zh"?"用户名":"Username"}),a.jsx("input",{className:o.textInputSmall,type:"password",value:Ne,onChange:t=>gs(t.target.value),placeholder:M==="zh"?"密码（仅本次）":"Password (session only)"})]}),a.jsxs("div",{className:o.actionRow,children:[a.jsx("button",{className:o.actionButton,onClick:xs,children:M==="zh"?"保存配置":"Save Config"}),a.jsx("button",{className:o.actionButton,disabled:J!==null,onClick:()=>void ps(),children:J==="backup"?M==="zh"?"备份中...":"Backing up...":M==="zh"?"立即备份":"Backup Now"}),a.jsx("button",{className:o.actionButton,disabled:J!==null,onClick:()=>void Ss(),children:J==="restore"?M==="zh"?"恢复中...":"Restoring...":M==="zh"?"从远端恢复":"Restore"})]}),a.jsx("pre",{className:o.previewBox,children:M==="zh"?`最近备份：${ye(st)}
最近恢复：${ye(at)}${je?`
状态：${je}`:""}`:`Last backup: ${ye(st)}
Last restore: ${ye(at)}${je?`
Status: ${je}`:""}`}),a.jsx("div",{className:o.sectionDivider}),a.jsx("div",{className:o.subSectionTitle,children:M==="zh"?"书签导入":"Bookmarks Import"}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:M==="zh"?`前 N 项（当前 ${Te}）`:`Top N (${Te})`}),a.jsx("input",{className:o.numberInput,type:"number",min:1,max:200,value:Te,onChange:t=>js(Math.max(1,Math.min(200,Number(t.target.value)||20)))})]}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:M==="zh"?"同域名合并":"Merge Same Domain"}),a.jsxs("div",{className:o.layoutToggleGroup,children:[a.jsx("div",{className:o.layoutHighlight,style:{transform:`translateX(${Mt?0:100}%)`}}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>lt(!0),children:u.settings.on}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>lt(!1),children:u.settings.off})]})]}),a.jsxs("div",{className:o.actionRow,children:[a.jsx("button",{className:o.actionButton,onClick:Ls,disabled:ut,children:ut?M==="zh"?"读取中...":"Loading...":M==="zh"?"读取书签预览":"Load Preview"}),a.jsx("button",{className:o.actionButton,onClick:fs,disabled:!C||C.selected.length===0,children:M==="zh"?"导入到 Dock":"Import to Dock"})]}),C&&a.jsx("pre",{className:o.previewBox,children:M==="zh"?`共 ${C.total} 条，待导入 ${C.selected.length} 条
重复 URL 跳过 ${C.skippedExistingUrl} 条
同域名合并跳过 ${C.skippedDomainMerged} 条`:`Total ${C.total}, selected ${C.selected.length}
Skipped existing URLs: ${C.skippedExistingUrl}
Skipped by domain merge: ${C.skippedDomainMerged}`}),a.jsx("div",{className:o.sectionDivider}),a.jsx("div",{className:o.subSectionTitle,children:M==="zh"?"存储仪表盘":"Storage Dashboard"}),a.jsx("div",{className:o.layoutRow,children:a.jsx("span",{className:o.layoutLabel,children:Ns?M==="zh"?"统计中...":"Loading...":M==="zh"?`已用 ${U(Y?.overview.usedBytes??null)} / 配额 ${U(Y?.overview.quotaBytes??null)}`:`Used ${U(Y?.overview.usedBytes??null)} / Quota ${U(Y?.overview.quotaBytes??null)}`})}),Y&&a.jsx("pre",{className:o.previewBox,children:M==="zh"?`贴纸 ${Y.stickersCount}
图片贴纸 ${U(Y.imageStickerBytes)}
壁纸历史 ${U(Y.wallpaperBytes)}
图标缓存估算 ${U(Y.iconBytes)}`:`Stickers ${Y.stickersCount}
Image stickers ${U(Y.imageStickerBytes)}
Wallpapers ${U(Y.wallpaperBytes)}
Icon cache estimate ${U(Y.iconBytes)}`}),a.jsxs("div",{className:o.actionRow,children:[a.jsx("button",{className:o.actionButton,onClick:()=>void ce(),children:M==="zh"?"刷新统计":"Refresh"}),a.jsx("button",{className:o.actionButton,onClick:()=>void Cs(),children:M==="zh"?"清理旧壁纸":"Clean Old Wallpapers"})]}),a.jsx("div",{className:o.actionRow,children:a.jsx("button",{className:o.actionButton,onClick:()=>void Us(),children:M==="zh"?"重压缩贴纸图片":"Recompress Stickers"})}),a.jsx("div",{className:o.sectionDivider}),a.jsx("div",{className:o.subSectionTitle,children:u.space.rulesTitle}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:Qe?u.space.rulesPermissionEnabled:u.space.rulesEnableTabPermission}),a.jsx("button",{className:o.actionButton,onClick:()=>void As(),disabled:Qe,children:Qe?u.settings.on:u.settings.off})]}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:u.space.rulesCooldown}),a.jsx("input",{className:o.numberInput,type:"number",min:1,max:180,value:Ts,onChange:t=>Ys(t.target.value)})]}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:u.space.rulesQuietHours}),a.jsxs("div",{className:o.layoutToggleGroup,children:[a.jsx("div",{className:o.layoutHighlight,style:{transform:`translateX(${ve?0:100}%)`}}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>kt(!0),title:u.settings.on,children:u.settings.on}),a.jsx("button",{className:o.layoutToggleOption,onClick:()=>kt(!1),title:u.settings.off,children:u.settings.off})]})]}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:u.space.rulesQuietStart}),a.jsx("input",{className:o.timeInput,type:"time",value:pe(jt),onChange:t=>_s(t.target.value),disabled:!ve})]}),a.jsxs("div",{className:o.layoutRow,children:[a.jsx("span",{className:o.layoutLabel,children:u.space.rulesQuietEnd}),a.jsx("input",{className:o.timeInput,type:"time",value:pe(Tt),onChange:t=>Rs(t.target.value),disabled:!ve})]}),a.jsx("div",{className:o.actionRow,children:a.jsx("button",{className:o.actionButton,onClick:Ps,children:u.space.rulesAddTime})}),a.jsxs("div",{className:o.actionRow,children:[a.jsx("input",{className:o.textInputSmall,value:Ue,onChange:t=>be(t.target.value),onKeyDown:t=>{t.key==="Enter"&&(t.preventDefault(),zt())},placeholder:u.space.rulesDomainPlaceholder}),a.jsx("button",{className:o.actionButton,disabled:!Ue.trim(),onClick:zt,children:u.space.rulesAddDomain})]}),G.length===0?a.jsx("pre",{className:o.previewBox,children:u.space.rulesNoItems}):a.jsx("div",{className:o.ruleList,children:G.map(t=>a.jsxs("div",{className:o.ruleRow,children:[a.jsxs("div",{className:o.ruleMain,children:[a.jsx("span",{className:o.ruleLabel,children:rn(t,M,Gs.get(t.spaceId))}),t.type==="time"&&a.jsxs("div",{className:o.timeRuleEditor,children:[a.jsx("div",{className:o.weekdayRow,children:Zs.map((l,D)=>a.jsx("button",{type:"button",className:`${o.weekdayChip} ${t.days.includes(D)?o.weekdayChipActive:""}`,onClick:()=>bs(t.id,D),children:l},`${t.id}_day_${D}`))}),a.jsxs("div",{className:o.timeRangeRow,children:[a.jsx("input",{className:o.timeInput,type:"time",value:pe(t.startMinute),onChange:l=>Qs(t.id,l.target.value,t.startMinute)}),a.jsx("span",{className:o.timeRangeSeparator,children:"-"}),a.jsx("input",{className:o.timeInput,type:"time",value:pe(t.endMinute),onChange:l=>vs(t.id,l.target.value,t.endMinute)})]})]})]}),a.jsxs("div",{className:o.ruleActions,children:[a.jsx("button",{className:o.ruleActionButton,onClick:()=>Bs(t.id),children:t.enabled?u.settings.on:u.settings.off}),a.jsx("button",{className:o.ruleActionButtonDanger,onClick:()=>Ws(t.id),children:u.contextMenu.delete})]})]},t.id))})]}),a.jsx("div",{className:o.footer,children:a.jsx("a",{href:"https://github.com/lsdsp/EclipseTab",target:"_blank",rel:"noopener noreferrer",className:o.githubLink,title:"View on GitHub",children:a.jsx("span",{children:"GitHub"})})})]})})]}):null};export{Li as SettingsModal,Rt as promptImportStrategy};
