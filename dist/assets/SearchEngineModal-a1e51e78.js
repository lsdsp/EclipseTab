import{m as p,j as s,M as v}from"./main-83d6bde6.js";import{r as d}from"./vendor-react-d4bca6d7.js";import"./vendor-utils-654bd828.js";const y="_list_1ula1_5",N="_label_1ula1_27",b="_divider_1ula1_51",j="_optionsContainer_1ula1_89",D="_option_1ula1_89",M="_selected_1ula1_155",k="_engineName_1ula1_167",i={list:y,label:N,divider:b,optionsContainer:j,option:D,selected:M,engineName:k},C=({isOpen:l,selectedEngine:o,engines:a,onClose:r,onSelect:m,anchorRect:_})=>{const{t:f}=p(),[n,c]=d.useState(()=>Math.max(0,a.findIndex(t=>t.id===o.id))),x=d.useRef(null);d.useEffect(()=>{l&&c(Math.max(0,a.findIndex(t=>t.id===o.id)))},[l,a,o]);const u=d.useCallback(t=>{m(t),r()},[m,r]),h=d.useCallback(t=>{if(l)if(t.key==="ArrowDown")t.preventDefault(),c(e=>Math.min(a.length-1,e+1));else if(t.key==="ArrowUp")t.preventDefault(),c(e=>Math.max(0,e-1));else if(t.key==="Enter"){t.preventDefault();const e=a[n]??a[0];e&&u(e)}else t.key==="Escape"&&r()},[n,a,l,u,r]);return s.jsx(v,{isOpen:l,onClose:r,title:void 0,hideHeader:!0,anchorRect:_,offset:12,children:s.jsxs("div",{ref:x,className:i.list,role:"listbox","aria-activedescendant":a[n]?.id,tabIndex:0,onKeyDown:h,children:[s.jsx("div",{className:i.label,children:f.search.searchBy}),s.jsx("div",{className:i.divider}),s.jsx("div",{className:i.optionsContainer,children:a.map((t,e)=>s.jsx("button",{id:t.id,role:"option","aria-selected":o.id===t.id,className:`${i.option} ${o.id===t.id?i.selected:""}`,style:{transitionDelay:`${e*40}ms`},onMouseEnter:()=>c(e),onClick:()=>u(t),children:s.jsx("span",{className:i.engineName,children:t.id==="default"?f.search.systemDefault:t.name})},t.id))})]})})};export{C as SearchEngineModal};
