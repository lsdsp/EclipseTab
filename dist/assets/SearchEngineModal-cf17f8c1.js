import{m as p,j as s,M as j}from"./main-3d46f78a.js";import{r as d}from"./vendor-react-d4bca6d7.js";import"./vendor-utils-654bd828.js";const v="_list_j4mgx_3",y="_label_j4mgx_14",N="_divider_j4mgx_26",b="_optionsContainer_j4mgx_45",D="_option_j4mgx_45",M="_selected_j4mgx_78",k="_engineName_j4mgx_84",i={list:v,label:y,divider:N,optionsContainer:b,option:D,selected:M,engineName:k},C=({isOpen:o,selectedEngine:r,engines:e,onClose:l,onSelect:x,anchorRect:_})=>{const{t:f}=p(),[n,c]=d.useState(()=>Math.max(0,e.findIndex(t=>t.id===r.id))),u=d.useRef(null);d.useEffect(()=>{o&&c(Math.max(0,e.findIndex(t=>t.id===r.id)))},[o,e,r]);const m=d.useCallback(t=>{x(t),l()},[x,l]),h=d.useCallback(t=>{if(o)if(t.key==="ArrowDown")t.preventDefault(),c(a=>Math.min(e.length-1,a+1));else if(t.key==="ArrowUp")t.preventDefault(),c(a=>Math.max(0,a-1));else if(t.key==="Enter"){t.preventDefault();const a=e[n]??e[0];a&&m(a)}else t.key==="Escape"&&l()},[n,e,o,m,l]);return s.jsx(j,{isOpen:o,onClose:l,title:void 0,hideHeader:!0,anchorRect:_,offset:12,children:s.jsxs("div",{ref:u,className:i.list,role:"listbox","aria-activedescendant":e[n]?.id,tabIndex:0,onKeyDown:h,children:[s.jsx("div",{className:i.label,children:f.search.searchBy}),s.jsx("div",{className:i.divider}),s.jsx("div",{className:i.optionsContainer,children:e.map((t,a)=>s.jsx("button",{id:t.id,role:"option","aria-selected":r.id===t.id,className:`${i.option} ${r.id===t.id?i.selected:""}`,style:{transitionDelay:`${a*40}ms`},onMouseEnter:()=>c(a),onClick:()=>m(t),children:s.jsx("span",{className:i.engineName,children:t.id==="default"?f.search.systemDefault:t.name})},t.id))})]})})};export{C as SearchEngineModal};
